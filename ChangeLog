2009-04-14  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.26.1 released ]

	* NEWS: updated

2009-04-09  Paolo Bacchilega  <paobac@svn.gnome.org>

	* copy-n-paste/eggdesktopfile.c: 
	* copy-n-paste/eggsmclient.c: 
	* copy-n-paste/eggsmclient-xsmp.c: 

	updated from libegg

2009-04-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-rar.c (fr_command_rar_extract): 
	
	added switch to keep broken extracted files (-kb).
	
2009-04-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-rar.c (fr_command_rar_handle_error): 
	
	A CRC error isn't always caused by a password request.
	Fixes bug #574657 – support corrupted rar archives.
	
	* src/gtk-utils.c (_gtk_error_dialog_new): 
	
	Expand the command line output if the secondary text is null.
	
	* src/fr-window.c: 
	* src/dlg-extract.c: 
	* src/dlg-batch-add.c: 
	* src/actions.c: 
	
	Always use a c-formatted string as 5th argument of 
	_gtk_error_dialog_new().

2009-03-31  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.c (get_file_size): init size to 0
	
	Fixes bug #576960 – file-roller shows random filesize for 
	zero bytes files.
	
2009-03-31  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.h: 
	* src/file-utils.c: 
	
	added a parent_folder argument to get_temp_work_dir
	
	* src/fr-archive.c (fr_archive_extract_to_local): 
	
	create the temp dir in the destination folder to make the mv 
	operation faster.

	* src/fr-command-unstuff.c: 
	* src/fr-command-jar.c: 
	* src/fr-window.c: 
	* src/fr-command-cfile.c: 
	
	updated calls to get_temp_work_dir

	* src/glib-utils.h: 
	* src/glib-utils.c: 
	* src/fr-window.c: 
	* src/fr-command.c: 
	* src/fr-archive.c: 
	* src/file-data.h: 
	* src/file-data.c: 
	
	sort the files array after getting the list and search a path using 
	a binary search to speed up the operation.
	
	Fixes bug #577389 – File roller hangs and leaks memory when file is 
	dragged / dropped from archive

2009-03-16  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.26.0 released ]

	* NEWS: 
	* configure.ac: updated.

2009-03-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.25.92 released ]

	* configure.ac: 
	* NEWS: updated.

2009-02-17  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.25.91 released ]

	* NEWS:
	* configure.ac: updated.

2009-02-17  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command-7z.c: 
	
	Fixed bug #571273 – crash in Archive Manager: Opening an archive 
	(ISO)
	Patch by Tom Parker.

2009-02-06  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.c: 
	
	Fixed bug #560429 – GNOME Goal: Remove deprecated GLib symbols

2009-02-04  Paolo Bacchilega  <paobac@svn.gnome.org>

	* data/ui/new.ui: 
	* data/ui/batch-add-files.ui: 
	
	Fixed spin button adjustment.
	
	* src/dlg-new.c: 
	
	Fixed bug #570505 – file-roller crashed with signal 5 in 
	IA__g_malloc()

2009-02-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.25.90 released ]

	* NEWS: 
	* configure.ac: updated
	
	* src/dlg-new.c: include gtk-utils.h
	
2009-02-02  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* src/fr-window.c (menu_item_select_cb): use gtk_widget_get_action to 
	get the action.
	
	Fixes bug #568881 – don't rely on gtk implementation details

2009-01-31  Paolo Bacchilega  <paobac@svn.gnome.org>

	* configure.ac: removed the libglade dependency; allow to 
	optionally load the ui from the source tree.

	* data/Makefile.am: 
	* data/glade: removed
	* data/ui: added
	* src/*.c
	
	Feature: Use gtkbuilder instead of libglade.
	
2009-01-31  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.c (get_temp_work_dir): add $XDG_CACHE_HOME to the 
	list of possible temp dirs.

	Fixes bug #569825 – file-roller should use TMPDIR or XDG_CACHE_HOME 
	for temporary files.

2009-01-20  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.25.2 released ]

	* NEWS: 
	* configure.ac: updated

2009-01-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/dlg-new.h: 
	* src/dlg-new.c: update the options sensitivity correctly.
	
	Fixes bug #567554 – An error occurred while adding files to the 
	archive after encrypt the zip archive.
	
2009-01-19  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* data/glade/batch-add-files.glade:
	* data/glade/new.glade: allow volume size smaller than a megabyte
	
	Fixed bug #566591 – File roller cannot create splitted archives 
	with pieces smaller than 1 Mb

2009-01-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: do not use a timeout to update the paste command
	sensitivity, use the owner-change clipboard signal instead.
	
	Fixes bug #560647 – file-roller wakes up the CPU 2 times per 
	second.

2009-01-19  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/file-utils.c: 
	* src/dlg-extract.c: 
	* src/dlg-batch-add.c: 
	* src/dlg-add-folder.c: 
	* src/dlg-add-files.c: 
	
	Fixed bug #563208 – file-roller can't extract to an ftp mounted 
	directory.
	Patch by Gerard Lommerse.
	
2009-01-19  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-archive.c (copy_extracted_files_to_destination)
	(get_desired_destination_for_archive): 
	
	Fixed bug #564029 – Unziping an archive from nautilus fails with 
	certain characters.
	
2009-01-19  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/sh/isoinfo.sh: 
	
	Fixed bug #565879 – isoinfo.sh has shebang but is installed -x
	Patch by Loïc Minier.
	
2009-01-19  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-window.c (rename_selection): do not extract recursively.
	
	Fixes bug #567901 – renaming directory in tarball creates duplicate
	files
	
2009-01-19  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* configure.ac: added AM_DISABLE_STATIC
	
	Fixed bug #568260 – file-roller installs static libraries by 
	default (for nautilus extension)

2009-01-05  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.25.1 released ]

	* NEWS: 
	* configure.ac: updated for version 2.25.1

2009-01-05  Paolo Bacchilega  <paobac@svn.gnome.org>

	* copy-n-paste/Makefile.am: 
	* copy-n-paste/eggsmclient-xsmp.c: 
	* copy-n-paste/eggsmclient-private.h: 
	* copy-n-paste/eggsmclient.h: 
	* copy-n-paste/eggsmclient.c: 
	* copy-n-paste/eggdesktopfile.h: 
	* copy-n-paste/eggdesktopfile.c: new files
	
	* src/Makefile.am: 
	* src/main.c: 
	* src/gtk-utils.c: 
	* Makefile.am: 
	* configure.ac: 
	
	Fixed bug #564805 – Drop libgnome/ui dependency.
	Patch by Saleem Abdulrasool.

2009-01-05  Paolo Bacchilega  <paobac@svn.gnome.org>

	* configure.ac: changed version to 2.25.0

2008-12-24  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/dlg-batch-add.c (dlg_batch_add_files): do not auto-expand
	the "other options" section.

2008-12-23  Paolo Bacchilega  <paobac@svn.gnome.org>

	* nautilus/nautilus-fileroller.c: 
	
	Fixed bug #561535 – Unable to create archive with OpenOffice 
	document using nautilus integration.
	Patch by Gerard Lommerse.

2008-12-21  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-zip.c (fr_command_zip_delete)
	(fr_command_zip_extract): escape special zip characters.
	
	Fixes bug #559481 – Can't open/view file directly from File Roller 
	if there is a bracket in the directory/file name.
	Patch by Gerard Lommerse.

2008-12-15  Saleem Abdulrasool <compnerd@compnerd.org>

	* src/main.c:
		Fix typos in the session management code

2008-11-28  Diego Escalante Urrelo  <diegoe@gnome.org>

	Remove single GTK+ includes. Fixes bug #560468.
	Patch by Maxim Ermilov.

2008-11-24  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.24.2 released ]

	* NEWS: 
	* configure.ac:  updated.

2008-11-09  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.ac: Add GConf deps to make it build.

2008-10-21  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.24.1 released ]

	* configure.ac: 
	* NEWS: updated.

2008-10-17  Paolo Bacchilega  <paobac@svn.gnome.org>

	* data/glade/update.glade: 
	* data/glade/properties.glade: 
	* data/glade/password.glade: 
	* data/glade/open-with.glade: 
	* data/glade/new.glade: 
	* data/glade/delete.glade: 
	* data/glade/batch-password.glade: 
	* data/glade/batch-add-files.glade: 
	* data/glade/add-options.glade: 
	
	Fixed bug #556623 – correct spacings in glade dialogues.  
	Patch by Christian Persch.
	
2008-10-17  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-window.c: 
	* src/fr-archive.c: 
	* src/dlg-extract.c: 
	* src/actions.c: 

	Fixed bug #556619 – format not a string literal and no format 
	arguments.  Patch by Christian Persch.

2008-10-16  Paolo Bacchilega  <paobac@svn.gnome.org>

	* data/glade/new.glade: 

	Fixed bug #556571 – non secret password typing.

	* data/glade/new.glade: 
	* data/glade/batch-add-files.glade: set the spin button page size to 0.
		
	* src/dlg-new.c: hide the other options group by default.
	
	* src/fr-archive.c: the G_IO_ERROR_CANCELLED error type is G_IO_ERROR 
	not G_FILE_ERROR.

2008-10-14  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gio-utils.c (for_each_child_data_free): no need to free the
	error.

2008-10-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/actions.c: renamed get_full_path() as get_full_uri()
	* src/fr-archive.c (get_local_copy_for_file): use 
	g_file_new_for_path	when build a gfile from the local temp
	filename.
	
	Fixes bug #555282 – opening archive on remote directory fails 
	with "Operation not supported".
	
2008-09-22  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.24.0 released ]

	* NEWS: updated.
	* configure.ac: updated.
	* COPYING: added to version control to avoid automatic substitution
	with the GPL 3.
	
2008-09-22  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/gtk-utils.h: 
	* src/fr-window.c: 
	* src/dlg-open-with.c: 
	* src/gtk-utils.c (get_icon_pixbuf): the icon isn't always a 
	themed_icon, it can be a file_icon too.  Load the image from the 
	file if it's a file_icon.
	
	Fixes bug #546799 – file-roller crashed with SIGSEGV in 
	g_str_hash()

2008-09-13  Paolo Bacchilega  <paobac@svn.gnome.org>

	* data/file-roller.desktop.in.in: 
	
	Fixed bug #552031 – Add archiving and compression to desktop 
	categories.  
	Patch by Patryk Zawadzki.

2008-09-08  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	[ File Roller 2.23.92 released ]

	* NEWS: updated.
	* configure.ac: updated.

2008-09-07  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-rpm.c: 
	* src/fr-command-cpio.c: 
	
	Fixed bug #551153 – [PATCH] rpm: display empty directories and support 
	device files.
	Patch by Eric Piel.
	
	Fixed bug #551146 – [PATCH] cpio: escaped filenames and block devices 
	support.
	Patch by Eric Piel.

2008-09-01  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.23.91 released ]

	* NEWS: updated.

2008-08-31  Paolo Bacchilega  <paobac@svn.gnome.org>

	* configure.ac: bumped version number to differentiate 
	current development version from the latest released version.

2008-08-31  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/dlg-open-with.c: 
	* src/fr-window.c: 
	* src/file-utils.c: 
	
	Set the application selected in the "open with" dialog as the 
	default	for the mime type.  Allow to remove the registered 
	applications as well.
	
	Fixes bug #544766 – file-roller doesn't remember open-with 
	application.

2008-08-20  Paolo Bacchilega  <paobac@svn.gnome.org>

	* README: updated.
	
	* src/main.h: 
	* src/main.c: added sort_mime_types_by_extension() and 
	sort_mime_types_by_description()
	
	* src/dlg-new.c: sort the type list by description.
	* src/dlg-batch-add.c: sort the type list by extension.

	Fixes bug: Sort the archive type list to make it easier to find the
	desired type.

2008-08-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.23.6 released ]

	* NEWS: updated.

2008-08-17  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-process.h: 
	* src/fr-process.c: 

	Use LC_MESSAGES instead of LC_ALL when use_standard_locale is TRUE.
	Try a series of charsets when input convertion fails.

	* src/typedefs.h: 
	* src/fr-window.c: 
	
	Added a bad_charset error.
	
	* src/glib-utils.h: 
	* src/fr-command-zoo.c: 
	* src/fr-command-zip.c: 
	* src/fr-command-unstuff.c: 
	* src/fr-command-tar.c: 
	* src/fr-command-rpm.c: 
	* src/fr-command-rar.c: 
	* src/fr-command-lha.c: 
	* src/fr-command-iso.c: 
	* src/fr-command-cpio.c: 
	* src/fr-command-arj.c: 
	* src/fr-command-ar.c: 
	* src/fr-command-alz.c: 
	* src/fr-command-ace.c: 
	* src/fr-command-7z.c: 
	
	Use a begin_func callback to initialize the data used in the output
	process.

2008-08-17  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command-cfile.c: allow to read .Z files with gzip.
	* src/fr-command-tar.c: allow to read tar.Z files with gzip.
	
	Fixes bug: LP#26662: file-roller fails to open .Z files.
	
	* src/file-utils.c (is_mime_type): campare the whole string not only
	part of it.

2008-08-16  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gio-utils.c (get_dir_list_from_file_list)
	(get_file_list_for_each_file, get_file_list_start_dir): add the
	first directory to the list of directories as well.
	
	* src/main.c (get_uri_from_command_line):  use gfile to make the 
	conversion.
	
	Fixes bug #350640 – sending an empty folder doesn't work.

2008-08-16  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/dlg-add-files.c: removed a useless callback that checked folder 
	permission on every filechooser selection change.

	* src/dlg-add-folder.c: removed the same callback as above and 
	simplified the response callback as well.
	
2008-08-16  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/dlg-batch-add.c (add_clicked_cb): 
	
	Fixed bug #548020 – "create archive" directory selection not working 
	correctly.  Patch by Marcel Stimberg.

2008-08-16  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-tar.c: 
	* src/fr-command-7z.c: 
	* src/fr-archive.c: 
	
	Fixed creation of 7zip compressed tar archives (#547727).

2008-08-16  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.c (make_directory_tree): do not change directory
	permissions when the directory already exists.

	Fixes bug #546698 – file-roller-2.23.1/2.23.5 removes r/x bit for 
	anyone but root from /
	
2008-08-16  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command-7z.c: use the second line to determine the 7zip 
	version.
	
	Fixes bug #547733 – 7-zip tells about invalid command line
	
2008-08-14  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/dlg-extract.c: removed the password from the extract dialog,
	because this dialog is already full of options and the password
	entry is redundant because if the archive is encrypted the 
	password will be requested during the extraction. 
	
	* data/glade/new.glade: removed the requires-version tag which causes
	a warning.

2008-08-14  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (fr_window_dir_exists_in_archive): handle the case 
	of directories that don't end with a separator. 
	
2008-08-14  Paolo Bacchilega  <paobac@svn.gnome.org>

	* TODO: updated.

2008-08-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-7z.c (list__process_line): version 4.55 uses the new 
	output format.
	
	Fixed bug #547297 – Crash reading zip/7za files with 7z version 4.55.
		
2008-08-09  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-7z.c (fr_command_7z_get_capabilities): can't read rar
	archives if the rar module is not present.
	
2008-08-09  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: 
	* src/fr-command-zip.c: 
	* src/fr-command-7z.c: 
	* nautilus/nautilus-fileroller.c: 
	* data/file-roller.desktop.in.in: 
	
	use application/x-ms-dos-executable for MS-DOS executables.
	
2008-08-09  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* src/file-utils.h: 
	
	Fixed bug #546978 – wrong icon for folders.
	Patch by Matthias Clasen.
	
	* src/dlg-open-with.c: 
	
	Fixed bug #547017 – segfault in "Open with".
	Patch by Matthias Clasen.

2008-08-06  Paolo Bacchilega  <paobac@svn.gnome.org>

	* configure.ac: bumped version number to differentiate 
	current development version from the latest released version.

2008-08-06  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* TODO: updated
	
	* src/fr-command-ar.c: add debian mime type.
	
	Fixes bug #546505 – Debian packages not supported anymore.

2008-08-05  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command.h: 
	* src/fr-archive.c: added a creating_archive flag to FrCommand this 
	way special options	can be used when fr_command_add is called to create
	an archive.
	
	* src/fr-command-tar.c: when creating a new archive, compress it 
	directly instead of creating it	uncompressed and then compress it.
	This saves time and disk space.
	
	Fixes bug #542424 – Tar.bz2 archives create uncompressed archive files.

2008-08-04  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.23.5 released ]

	* NEWS: updated for 2.23.5

2008-08-04  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.c: return TRUE if path is NULL

2008-07-30  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-cfile.c (get_uncompressed_name_from_archive): use
	gio to read the file.
	
	* src/fr-archive.c (get_mime_type_from_magic_numbers): added gzip
	magic numbers.

2008-07-29  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-7z.h: 
	* src/fr-command-7z.c: 
	
	Fixed bug #545188 – Has incorrect start text for 7zip version 4.43

2008-07-28  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-rar.c: always load the first volume of the series to
	list the whole content of the archive. 

	Fixes bug #545168 – no longer possible to open a multi-volume rar 
	from any part

	* src/fr-window.c (action_performed): update the archive name after
	loading the content.
	* src/fr-archive.c (action_performed): update the archive name after
	loading the content.
	(get_mime_type_from_magic_numbers): use the new function 
	g_load_file_in_buffer. 

	* src/gio-utils.h: 
	* src/gio-utils.c: added function g_load_file_in_buffer()

2008-07-28  Kjartan Maraas  <kmaraas@gnome.org>

	* data/glade/new.glade: Don't translate widget labels.

2008-07-28  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.c (get_dest_free_space): finished to port to GIO.
	
	Fixes bug #545161 – file-roller crashed with SIGSEGV in strlen() when 
	extracting tarball.
	Fixes bug #544613 – file-roller crashed with SIGSEGV in remove_directory()

2008-07-28  Paolo Bacchilega  <paobac@svn.gnome.org>

	* NEWS: updated.
	* TODO: updated.
	* README: updated.
	
	* src/dlg-batch-add.c (help_clicked_cb): 
	* data/glade/batch-add-files.glade:
	
	Feature: Added a help button to the window used to create archives
	from the file manager menu.
	 
2008-07-26  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-archive.c (get_mime_type_from_magic_numbers): added magic
	number for 7-zip archives. 

 	* src/fr-window.c:
	* src/fr-process.h: 
	* src/fr-command-rar.h: 
	* src/fr-command-rar.c: 
	* src/fr-command-7z.h: 
	* src/fr-command-7z.c: 
	* src/fr-command.h: 
	* src/fr-command.c: 
	* src/fr-archive.c: 
	
	Update the archive filename after creating a multi-volume archive.
	Fixes bug: Allow to create multi-volume archives from the main window.
	
	* src/typedefs.h:
	* src/Makefile.am: added dlg-new.[ch]
	* src/main.h:
	* src/main.c:
	* src/fr-window.h:
	* src/fr-window.c:	
	* src/dlg-new.c: new file
	* src/dlg-new.c: new file  
	* src/dlg-batch-add.c: 
	* src/actions.c: 
	
	Feature: Unified the "new" and "save as" dialogs.  Allow to specify other 
	options	in these dialogs, such as whether to encrypt the header and 
	whether	to split the archive in volumes.
	
	* data/glade/new.glade: new file.
	* data/glade/Makefile.am: include new.glade in the glade data.

2008-07-25  Paolo Bacchilega  <paobac@svn.gnome.org>

	* configure.ac: bumped version number to differentiate 
	current development version from the latest released version.

2008-07-23  Paolo Bacchilega  <paobac@svn.gnome.org>

	* data/file-roller.desktop.in.in: 
	
	Fixed bug #544296 – desktop entry does not validate.
	Patch by Götz Waschk.

2008-07-22  Paolo Bacchilega  <paobac@svn.gnome.org>

	* data/file-roller.desktop.in.in: 
	
	Fixed bug #544184 – extra space in the mimetype lists.
	Patch by Sebastien Bacher.
	
	* configure.ac: 
	
	Fixed bug #544182 – configure.ac should use AC_PROG_CC.
	Patch by Sebastien Bacher.

2008-07-21  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	[ File Roller 2.23.4 released ]
	
	* NEWS: updated.
	
2008-07-21  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* src/preferences.h: 
	* src/dlg-batch-add.c: 
	* data/file-roller.schemas: 

	Save and restore the volume size.

2008-07-21  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-process.h: 
	* src/fr-process.c: 
	
	New function: fr_process_add_arg_printf
	
	* src/fr-command-tar.c: 
	* src/fr-command-rar.c:
	* src/fr-command-7z.c:
	
	Fixed command line arguments for listfiles.
	 
	* src/fr-command-7z.c: 
	
	Read the entry attribute to detect directories.

	* src/typedefs.h:
	* src/fr-window.c:	
	* src/fr-command.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c: 
	* src/dlg-batch-add.c: 
	* data/glade/batch-add-files.glade:
	
	Added ability to create multi-volume archives. 
	
2008-07-21  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* TODO: updated
	* src/fr-window.c: disable progress log.
	
	* src/fr-command-*.c: 
	* src/fr-command.h: 
	* src/fr-command.c: 
	* src/fr-archive.c:
	
	Added ability to specify the file list in a file, for the commands
	that support this option.  This is usefull to avoid to execute a command
	multiple times when the file list is too long to pass it to the 
	command line at once.  

2008-07-20  Paolo Bacchilega  <paobac@svn.gnome.org>

	* TODO: updated.
	
	* src/fr-command-7z.c: add a -- to signal the end of the switches.
	Implemented extact progress to add and extract.
	Part of the bug #153281 – Progress bar should be exact
	
	* src/fr-archive.c: do not add the backup files, that is files ending 
	with ~,	to the archive. 
	
2008-07-20  Paolo Bacchilega  <paobac@svn.gnome.org>

	* configure.ac: 
	* src/typedefs.h: 
	* src/Makefile.am:
	
	Register FrCompression enum in the gobject type system, because it's
	used as a property.
	 
	* src/gtk-utils.c: removed unused function.
	
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/fr-command-zoo.c: 
	* src/fr-command-zip.c: 
	* src/fr-command-unstuff.c: 
	* src/fr-command-tar.c: 
	* src/fr-command-rpm.c: 
	* src/fr-command-rar.h: 
	* src/fr-command-rar.c: 
	* src/fr-command-lha.c: 
	* src/fr-command-jar.c: 
	* src/fr-command-iso.c: 
	* src/fr-command-cpio.c: 
	* src/fr-command-cfile.c: 
	* src/fr-command-arj.c: 
	* src/fr-command-ar.c: 
	* src/fr-command-alz.c: 
	* src/fr-command-ace.c: 
	* src/fr-command-7z.h: 
	* src/fr-command-7z.c: 
	* src/fr-command.h: 
	* src/fr-command.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c:
	* src/dlg-extract.c: 
	* src/dlg-delete.c: 
	
	Reduce the number of FRCommand functions arguments by using 
	gobject properties.

	* src/fr-archive.c (action_performed): update the capabilities
	after listing the content, usefull for multivolume archives that are
	read-only. 
	
	* src/dlg-batch-add.c (add_clicked_cb): always create a new archive,
	calling fr_window_archive_new.

2008-07-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-rar.c (process_line): ignore files that span more 
	volumes.

2008-07-18  Paolo Bacchilega  <paobac@svn.gnome.org>

	* TODO: updated
	
	* src/typedefs.h: 	
	* src/fr-command-rar.c: 
	
	Added support for the progress dialog during add, extract and delete.
	Related to bug #153281 – Progress bar should be exact.
	
	Do not ask for password when a part of a multi-volume archive is 
	missing.	
	Fixes bug #504584 – Incorrect comportment when extracting multi part 
	rar files.
	
	* src/fr-window.c: 	
	* src/fr-command.h: 
	* src/fr-command.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c: 
	* src/dlg-prop.c: 
	
	Compute the number of regular files in the archive, and use that value
	for the progress dialog and the property dialog.
	Allow to change the name of the current archive in the progress dialog,
	used when the archive is multi-volume.
	Don't use the fake load anymore, in order to allow an exact progress
	dialog when adding or extracting files in batch mode, see bug #153281.
	
	* src/dlg-add-folder.c (file_sel_response_cb): the destination 
	directory is not a uri. 
	
	* src/gtk-utils.c: use an expander instead of a button to show/hide
	the command line output.

2008-07-13  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gtk-utils.h: 
	* src/gtk-utils.c: removed create_pixbuf() because unused.

2008-07-13  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/typedefs.h: 
	* src/actions.c: 
	* src/dlg-batch-add.c: 
	* src/fr-archive.c: 
	* src/fr-command.c: 
	* src/fr-command-7z.c: 
	* src/fr-command-ace.c: 
	* src/fr-command-alz.c: 
	* src/fr-command-ar.c: 
	* src/fr-command-arj.c: 
	* src/fr-command-cfile.c: 
	* src/fr-command-cpio.c: 
	* src/fr-command-iso.c: 
	* src/fr-command-jar.c: 
	* src/fr-command-lha.c: 
	* src/fr-command-rar.c: 
	* src/fr-command-rpm.c: 
	* src/fr-command-tar.c: 
	* src/fr-command-unstuff.c: 
	* src/fr-command-zip.c: 
	* src/fr-command-zoo.c: 
	
	Renamed the FrCommandCap values.
	
	* src/gtk-utils.c (get_icon_pixbuf): use 'text-x-generic' for unknown 
	file types.
	
	* TODO: updated.

2008-07-12  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gtk-utils.c (get_icon_pixbuf): 
	
	Fixed bug #542541 – icon lookup code is broken
	Patch by Matthias Clasen.

2008-07-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (fr_window_set_encrypt_header): do not return 
	any value.
	
	* src/fr-archive.c: try to get the mime type from magic numbers 
	if all other methods fail.

2008-07-07  Paolo Bacchilega  <paobac@svn.gnome.org>
 
	* src/typedefs.h: 
	* src/main.c:
	* src/fr-command-zoo.c: 
	* src/fr-command-rar.c: 
	* src/fr-command-jar.c: 
	* src/fr-command-arj.c: 
	* src/fr-command-7z.c: 
	
	Changed the FrMimeTypeDescription structure in order to compute 
	the mime type capabilities automatically in compute_supported_archive_types() 
	
	* src/fr-window.c: 
	* src/gtk-utils.h: 
	* src/gtk-utils.c: added a show_uri function, used in show_help_dialog
	and fr-window.c:open_folder. 

	* src/preferences.h:	
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/fr-command-rar.c: 
	* src/fr-command-7z.c: 
	* src/fr-command.h: 
	* src/fr-command.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c: 
	* src/dlg-password.c: 
	* src/dlg-batch-add.c: 
	* src/actions.c: 
	* data/glade/password.glade: 
	* data/glade/batch-add-files.glade:
	
	Added support for header encryption.  Implemented header encryption for
	7zip and rar archives.
	
	* data/file-roller.schemas: added the key /apps/file-roller/general/encrypt_header

	Fixes bug #506698 – 7z Filename (header) Encryption request

2008-06-29  Paolo Bacchilega  <paobac@svn.gnome.org>

	* INSTALL: changed by autoconf
	* configure.ac: 
	* configure.in: 
	* autogen.sh: 
	
	renamed to configure.ac, changed some commands.

2008-06-29  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-archive.c: removed useless comment.
	
2008-06-29  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* src/fr-window.c (open_folder): 
	* src/gtk-utils.c (show_help_dialog): 
	* configure.in: 
	
	Allow to compile with Gtk+ 2.12 as well.

2008-06-29  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* data/file-roller.desktop.in.in: 
	* src/main.c: use application/x-java-archive as mime type for .jar files.
	
	* src/fr-command-jar.c: register the jar mime type. 
	
	* src/fr-command-7z.c (fr_command_7z_handle_error): added support
	for 7zip files with encrypted headers.

2008-06-24  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: 
	* src/fr-command-cfile.c: 
	* nautilus/nautilus-fileroller.c: 
	* data/file-roller.desktop.in.in: 

	Fixed bug #503000 – Support for rzip

	* src/fr-archive.c (create_command_from_mime_type): allow to load a
	compressed file.
	
2008-06-24  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* nautilus/nautilus-fileroller.c: do not add any menu entry when the
	files are in an unsupported location, such as 'trash' or 'computer'.
	
	Fixes bug #539629 – Create archive for Trash/Computer

2008-06-24  Paolo Bacchilega  <paobac@svn.gnome.org>

	* TODO: updated.
	
	* src/fr-command-7z.c: set the encrypted flag on for files compressed 
	with an AES method.

2008-06-22  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c (register_commands): added comment that explains how the
	priority is assigned.
	
	* src/fr-archive.c (create_command_from_mime_type): give priority to 
	the commands that can read and write over commands that can only read 
	a specific file format.

2008-06-21  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-7z.c (fr_command_7z_get_capabilities): can handle other
	formats only when 7z is available.
	* src/fr-process.c (child_setup, start_current_command): do not add 
	debug functions	in the child process.

2008-06-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (action_performed): do not reload the archive if
	an error occurs when adding files in batch mode.
	(fr_window_stop_activity_mode): do not allow the activity_ref counter
	to be negative.
		
	* src/file-utils.c (uri_is_filetype, dir_is_empty)
	(dir_contains_one_object, get_dir_content_if_unique): check for file
	existance before anything else.
	
2008-06-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (action_started): 
	
	Show the progress dialog without any delay for any operation when
	in batch mode. 

	* src/gio-utils.c: 
	* src/fr-window.c: 
	* src/fr-archive.c: 
	* src/file-utils.c: 
	* src/dlg-extract.c: 
	* src/dlg-batch-add.c: 
	
	GErrors must be initialized to NULL.

2008-06-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.h: 
	* src/dlg-extract.c:
	* src/fr-window.c: 
	
	Show the extract progress dialog without any delay when extracting
	in batch mode.  
	Do not ask whether to open the destination folder if the extraction 
	was done with drag&drop or with an extract_here	operation because in 
	these cases the user already views the destination.

2008-06-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: register the alz command and mime type.
	
	* src/Makefile.am: 
	* src/fr-command-alz.h: 
	* src/fr-command-alz.c: new files
	
	* nautilus/nautilus-fileroller.c: 
	* data/file-roller.desktop.in.in: added application/alz mime type.

	Added support for reading and extracting alz archives.
	Patch by Changwoo Ryu
	Fixed bug #521324 – ALZ archive support

2008-06-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* configure.in: bumped version number to differentiate 
	current development version from the latest released version.
	
	* src/fr-command-7z.h: 
	* src/fr-command-7z.c (list__process_line, fr_command_7z_list): 

	Use the technical list, because we need to know whether a file is 
	encrypted or not.

2008-06-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c:
	* src/fr-command-7z.c:
	* src/fr-command-zip.c:
	* data/file-roller.desktop.in.in: 
	
	renamed MS-DOS executable mime-type from 
	application/x-ms-dos-executable to application/x-executable
	
	* src/fr-command-zip.c: added support for .cbz files
	
	* src/fr-command-rar.c: added support for .cbr files.
	
	* src/fr-command-cpio.c: Fixed list error when the file type is 'c'.
	
	* src/fr-command-7z.c: Added support for creating self-extracting
	zip archives.  Added support for reading/writing zip, cbr, cbz archives.
	Added support for reading cabinet, arj, rar and iso archives.
	
	Fixes bug #343201 – Use p7zip for RAR archives?
	Fixes bug #529395 – file-roller will not open 256 AES zip files
	Fixes bug #515194 – PK 4.5 Zip files
	Fixes bug #519046 – add x-cbr and x-cbz support
	Fixes bug #336790 – file-roller can't open winzip-10 encrypted files (AES)

2008-06-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.h: 
	* src/main.c: 
	
	Removed duplicated data.  Simplified the way to register commands.
	Use the functions fr_command_get_mime_types and 
	fr_command_get_capabilities to compute the supported mime_types and	the
	relative capabilities.
	
	* src/fr-command-zoo.c: 
	* src/fr-command-zip.c: 
	* src/fr-command-unstuff.c: 
	* src/fr-command-tar.c: 
	* src/fr-command-rpm.c: 
	* src/fr-command-rar.c: 
	* src/fr-command-lha.c: 
	* src/fr-command-iso.c: 
	* src/fr-command-cpio.c: 
	* src/fr-command-cfile.c: 
	* src/fr-command-arj.c: 
	* src/fr-command-ar.c: 
	* src/fr-command-ace.c: 
	* src/fr-command-7z.c: 
	* src/fr-command.h: 
	* src/fr-command.c: 
	
	added two new virtual functions: get_mime_types, get_capabilities.
	
	* src/file-utils.c (is_mime_type): rename type to mime_type.
	
	* nautilus/nautilus-fileroller.c: updated the mime_type list.
	* data/file-roller.desktop.in.in: updated the MimeType field.

2008-06-16  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.23.3 released ]

	* NEWS: updated

2008-06-13  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-process.c: 
	* src/fr-process.h: 

	Use g_io_channel to read the command output.  Moved private properties 
	to a priv structure.  Cleaned up the code.

	* src/fr-window.c: 
	* src/fr-command-zip.c: 
	* src/fr-command-rar.c: 
	
	Updated names of the process properties.

2008-06-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: 
	
	Added application/x-tarz and application/x-compress
	
 	* src/fr-command-tar.c: 
	
	Added application/x-tarz to the supported formats.
	
	* src/fr-command-cfile.c (fr_command_cfile_add): do not use '*' as we 
	don't use the shell anymore, instead compute the compressed filename
	and use it.  Added mime-type application/x-compress to the supported
	formats.

	* src/fr-window.h: 
	* src/fr-window.c:	
	* src/actions.c: when an archive type is not supported destroy the 
	(hidden) main window after the error dialog has been closed.

2008-06-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/open-file.c (open_file_new): return null if the files doesn't 
	exists.
	
	* src/fr-window.c (monitor_extracted_files): don't add the file if 
	it's NULL.
	
	* src/fr-command-cpio.c (fr_command_cpio_list, fr_command_cpio_extract): 
	insert the pipe in a single argument.
	
	* src/fr-command-cfile.c: 
	
	fixed misc errors.
	
	* src/file-utils.h: 
	* src/file-utils.c: 
	
	added function get_file_size_for_path()
	
2008-06-11  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command-rpm.c (fr_command_rpm_list, fr_command_rpm_extract): 
	insert the pipe in a single argument.

2008-06-11  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command-iso.c: 
	
	Do not add the -c switch to sh and don't escape the filename.
	Removed the pipe command from here, since it's been moved to isoinfo.sh

	* src/sh/isoinfo.sh: 
	
	Added an additional argument to specify the output filename when
	extracting.

2008-06-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-process.c (fr_process_add_arg_concat): 
	add the first arg as well.
	
	* src/fr-command-rar.c (fr_command_rar_handle_error): always check for 
	the "password incorrect" string.

2008-06-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/glib-utils.h: 
	* src/glib-utils.c: 
	* src/fr-window.c: 
	* src/fr-command-tar.c: 
	* src/fr-archive.c: 

	uri_escape the file list before passing it to fr_archive_add.

2008-06-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: 
	* src/glib-utils.h: 
	* src/glib-utils.c: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/fr-process.h: 
	* src/fr-process.c: 
	* src/fr-command-zoo.c: 
	* src/fr-command-zip.c: 
	* src/fr-command-unstuff.c: 
	* src/fr-command-tar.c: 
	* src/fr-command-rpm.c: 
	* src/fr-command-rar.c: 
	* src/fr-command-lha.c: 
	* src/fr-command-jar.c: 
	* src/fr-command-iso.c: 
	* src/fr-command-cpio.c: 
	* src/fr-command-cfile.c: 
	* src/fr-command-arj.c: 
	* src/fr-command-ar.c: 
	* src/fr-command-ace.c: 
	* src/fr-command-7z.c: 
	* src/fr-command.h: 
	* src/fr-command.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c: 
	* src/dlg-prop.c: 
	* src/dlg-ask-password.c: 
	* src/dlg-add-folder.c: 
	
	Do not use the sh command to exec the process, use the utility command
	directly to allow to stop the process properly.
	Do not escape the filenames because the shell is not used anymore.
	
	Fixes bug #520844 – File roller not cancelling compression
	
2008-06-10  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-process.c (_fr_process_stop): 
	* src/main.c (initialize_data): 

	reverted last commit, because it doesn't fix the problem the right way.

2008-06-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c (initialize_data): 
	(initialize_data): 
	* src/fr-process.c (_fr_process_stop): 

	stop the process calling 'kill' on all the processes in the group, and 
	capture the SIGTERM signal to not terminate the main process.

2008-06-06  Paolo Bacchilega  <paobac@svn.gnome.org>

	* TODO: updated
	
	* configure.in: bumped version number to differentiate 
	current development version from the latest released version.
	
	* src/fr-window.c (open_progress_dialog): 
	
	Return as soon as possible if the dialog is already shown.  
	Don't show the progress bar if open_now is true.

2008-06-06  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: 
	
	added a ask_to_open_destination_after_extraction flag to open the
	progress dialog only when appropriate.
	
	* src/fr-process.c: 
	
	check whether current_comm is >= 0 before accessing the comm array.
	
	* src/fr-command-cfile.c: 
	
	set the propAddCanUpdate and propAddCanReplace properties to TRUE.

	* src/fr-command-unstuff.c: 
	* src/fr-command-tar.c: 
	* src/fr-command-rpm.c: 
	* src/fr-command-iso.c: 
	* src/fr-command-cpio.c: 	
	* src/fr-command-ar.c: 
	* src/fr-command-ace.c: 
	* src/fr-command.h: 
	* src/fr-command.c: 
	
	get rid of the propCanModify property as it's been obsoleted by the
	fr_command_is_capable_of() function.
	
	* src/fr-archive.h: 
	* src/fr-archive.c: 
	
	add a have_permissions flag to differentiate when is not possible to
	write an archive because the archive command doesn't support this
	feature or because we don't have the file write permission.
	
	* src/dlg-open-with.c (open_with__destroy_cb): 
	
	do not unref the AppInfo objects.
	
	* src/fr-stock.h: 
	* src/fr-stock.c: 
	* data/icons/24x24/actions/Makefile.am: 
	* data/icons/24x24/actions/preview-file.png: 
	
	Removed the preview-file stock item, use gtk_stock_open instead.

2008-06-05  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.h: 
	* src/main.c: 
	* src/actions.c: 
	
	Differentiate between types that can be created and types that can be 
	saved.  The difference is that a type can be created only if it can be 
	loaded and saved.  At the moment only tar.7z can be saved but not 
	created.
	
2008-06-05  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* src/fr-archive.c (fr_archive_extract_to_local): 
	
	we need the file list when extracting all the files and not all the
	options are supported by the command.
	
	* src/fr-command-tar.c (fr_command_tar_init): 
	
	set propExtractCanAvoidOverwrite to FALSE for tar archives because the
	tar command returns a fatal error when a file already exists.

2008-06-05  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: 
	
	do not view the folder after the extraction when in batch mode.
	
	* src/fr-window.c: 	
	
	Display the progress dialog if the operation lasts more than 5 seconds.
	Display the progress dialog without delay if extracting or converting
	an archive.  After the extraction add to the progress dialog the button
	to open the destination folder and after the conversion add the button to
	open the newly created archive.

	* src/fr-archive.c: 
	
	Compute the number of files even when extracting all the files and
	the archive command supports the operation natively.
	
	* src/preferences.h: 
	* src/fr-window.h: 
	* src/dlg-extract.c: 
	* data/file-roller.schemas: 
	
	Removed the 'view folder after extraction' option from the 
	extraction dialog.
	
	* src/fr-command-ace.h: 
	* src/fr-command-ace.c: Added support for the ace-nonfree output format.

2008-06-03  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: 
	* src/fr-window.c: 
	* src/fr-command-tar.h: 
	* src/fr-command-tar.c: 
	* src/fr-archive.c: 

	Added partial support for tar archives compressed with 7zip.  

2008-06-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.23.2 released ]

	* NEWS: updated
	
2008-06-02  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-window.c (fr_window_close): do not close if an operation 
	is underway.
	(open_progress_dialog): prefer the progress dialog to the progress 
	bar, maybe not all the users notice the progress bar and think no 
	operation is in progress.
	
	Fixes bug #532255 – file-roller silently allows the user to exit in 
	the middle of an operation.

2008-06-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (fr_window_update_files): 
	(fr_window_open_files): 
	(fr_window_open_files_with_command):
	(fr_window_open_files_with_application):
	* src/fr-window.h: 
	* src/dlg-update.c (update_cb): 
		
	Do not allow to open a file or update the archive when an operation is
	underway.  
	Fixes bug #532789 – file-roller crashes when modifying archive, 
	data destroyed

2008-06-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.c (get_temp_work_dir): 
	
	Added a check to avoid segfault described in bug #529949
	
	* src/fr-window.c (fr_window_construct): 
	
	Fixed bug #527271 – Ctrl-Q should quit file-roller.
	Patch by Eric Piel, modified to close the window instead of quitting the
	application.
	
	* src/main.c (get_archive_filename_extension): 
	
	return NULL if the filename has no extension.

2008-06-02  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command-rpm.c (list__process_line): 
	
	Fixed bug #536055 – Support for special characters in rpm archives
	Patch by Eric Piel

	* src/main.c (register_commands): added FR_COMMAND_CAP_ARCHIVE_MANY_FILES
	where appropriate
	
	* src/file-utils.c (build_uri): 

	use g_str_has_prefix, g_str_has_suffix instead of g_str_starts_with and
	g_str_ends_with, as suggested by Paolo Borelli in bug #536241

	* src/glib-utils.c: 
	* src/glib-utils.h: 

	removed g_str_starts_with and g_str_ends_with

2008-06-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/glib-utils.h: 
	* src/glib-utils.c: 

	new functions: g_str_starts_with, g_str_ends_with
	
	* src/fr-window.c: 
	* src/fr-command-jar.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/dlg-add-folder.c: 
	
	use the custom build_uri function instead of g_buid_path.

	* src/fr-archive.c (get_extract_here_destination): 
	
	init the error to NULL

2008-06-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/*.[ch]: changed the way a FrArchive creates FrCommand objects. 
	This makes the code easier to maintain and more modularized, and can 
	be seen as a first step in the direction of a plugin system that will 
	allow to add new archive types support without changing file-roller.
	
	* configure.in: changed version to 2.23.2

2008-06-01  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/ui.h: 
	
	Fixed bug #535967 – Meaningless message: Open Go to the next visited 
	location selected folder

2008-04-29  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gconf-utils.c: fixed memory leak.
	* src/file-utils.c: 
	* src/fr-archive.c (add_dropped_items): 
	
	Fixed bug #480190 – files added to archive are wrongly placed in root

2008-04-21  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.23.1 released ]

	* configure.in: 
	* NEWS: 
	
	updated for 2.23.1

2008-04-21  Michael Monreal  <mmonreal@svn.gnome.org>

	* configure.in:
	* data/icons/24x24/Makefile.am:
	* data/icons/24x24/apps/Makefile.am:

	Provide and install a 24x24 application icon to prevent a blurry
	launcher icon in the menu (fixes bug #470265).

2008-04-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-archive.c (get_mime_type_from_sniffer): use GIO to read the 
	file.

	* src/dlg-extract.c: 	
	* src/bookmarks.c:
	* src/bookmarks.h:
	* src/Makefile.am: 
	
	removed bookmarks.[ch]

2008-04-19  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: give visual feedback that you cannot drop on the 
	same window when dragging a folder from the folder pane.

2008-04-18  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: added ability to extract folders from the folder
	pane using drag & drop.

2008-04-16  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/utf8-fnmatch.c:
	* src/utf8-fnmatch.h: removed files.

	* src/Makefile.am: 
	* src/glib-utils.h: 
	* src/glib-utils.c: 
	* src/gio-utils.c: 
	* src/fr-window.c: 
	* src/fr-archive.c: 
	* src/dlg-extract.c: 
	
	Use GRegex instead of the utf8_fnmatch function.

2008-04-15  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/dlg-prop.c: 
	
	use 'Location' instead of 'Path'.

	* src/preferences.h: 
	* src/gio-utils.h: 
	* src/gio-utils.c: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c: 
	* src/file-utils.c: 
	* data/file-roller.schemas: 
	* src/dlg-add-folder.c:
	
	added an exclude folder filter to specify sub-folders to ignore when 
	adding a folder recursively.
	
	* src/dlg-add-folder.c (add_folder_cb): 
	* src/dlg-add-files.c (add_files_cb): 
	
	changed mnemonic keys to avoid collisions.

2008-04-15  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: do not update the progress bar if the widget is
	not realized.
	(theme_changed_cb): update the view when updating the file list.

2008-04-15  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: 
	* src/file-utils.h: 
	* src/file-utils.c: added g_key_file_save
	* src/dlg-add-folder.c: 
	
	use g_key_file instead of gnome_config for loading/saving sessions.
	
2008-04-15  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* src/fr-marshal.list: added VOID:INT,INT used in sexy-icon-entry.c
	
	* src/sexy-icon-entry.c (sexy_icon_entry_class_init): 
	
	use fr_marshal_VOID__INT_INT instead of gtk_marshal_VOID__INT_INT
	
	* src/fr-window.c (fr_window_start_activity_mode): 
	
	use g_timeout_add instead of the deprecated gtk_timeout_add.
	
	* src/dlg-update.c (update_file_list): 

	use gtk_label_set_text instead of the deprecated gtk_label_set.

2008-04-15  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: 
	* src/dlg-extract.c: 
	* src/dlg-add-folder.c: 

	Use the new tooltips API.
	
2008-04-15  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gio-utils.c (g_directory_foreach_child): updated description.

2008-04-14  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/gtk-utils.c: use g_app_info_launch_default_for_uri to show
	the help dialog.
	
	* configure.in: requires at least gtk+ 2.13.0 for GdkAppLaunchContext
	
	* src/fr-window.c (open_folder): use a GdkAppLaunchContext instead of a
	GAppLaunchContext

	* src/main.c: re-arranged includes.
	
2008-04-14  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (open_folder): unref the app_context when done.

2008-04-14  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: replace gnome_url_show with 
	g_app_info_launch_default_for_uri

2008-04-14  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/dlg-add-folder.c: replace gnome_config with g_key_file 
	
2008-04-14  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/main.h: 
	* src/main.c: removed ViewerList.

2008-04-14  Paolo Bacchilega  <paobac@svn.gnome.org>
 
	* src/fr-window.h: 
	* src/fr-window.c: 
	
	Fixed bug #512474 – Visual glitches at startup

	* src/gtk-utils.h: 
	* src/gtk-utils.c:	
	* src/file-utils.h: 
	* src/dlg-batch-add.c: 
	
	Use the gtk API to get the icons for the mime-types.

	* src/ui.h: 	
	* src/actions.h: 
	* src/actions.c: 

	Use a gtk-toolbar for the location_bar.

2008-04-13  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/typedefs.h: 
	* src/main.c: 
	* src/fr-archive.c: 
	* src/actions.c: 

	Disable the password entry in the save as dialog if the archive type
	doesn't support encryption.

2008-04-13  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: 
	
	Fixed bug #516043 – status bar / progress bar artifact

	* src/ui.h: 
	
	Added keyboard shortcut to deselect all.  Moved add files and add 
	folders	down in the edit menu.  Moved stop and reaload at the bottom of
	the view menu.  Removed the sort by submenu.
	
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/actions.c: 
	
	Allow to specify a password when converting an archive to another 
	format.

2008-04-13  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-rar.c (add_password_arg): quote the whole password 
	option using g_shell_quote
	
	Fixes bug #523158 – exclamation mark in RAR password

2008-04-12  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/ui.h: added a separator before the extract toolbar button.
	
	* src/preferences.h: 
	* src/main.c: 
	* src/file-utils.h: 
	* src/dlg-add-folder.c: 
	* src/dlg-add-files.c: 
	* src/bookmarks.c: 
	* data/file-roller.schemas: 
	
	Load and save the add folder dialog options.  Allow to clear the
	dialog options

2008-04-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: 
	
	show an alert dialog when the 'save as' operation is completed, and 
	allow the user the open the new archive.  Fixed a bug in the conversion
	procedure as well.
	
	* src/gtk-utils.h: 
	* src/gtk-utils.c: 
	* src/dlg-open-with.c: 
	
	load the application icon using the new API.
	
	* src/actions.c: 
	
	Use gtk_file_chooser_set_do_overwrite_confirmation instead of the 
	custom dialog. 
	Do not use g_file_query_info to get the	basename, just use 
	g_uri_unescape_string because the file could not exists.

2008-04-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (fr_window_file_list_drag_data_get): do not translate
	the destination into a path.  Fixes extraction with DnD.

2008-04-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gio-utils.c: close the enumerator when done
	* src/fr-archive.c: check for file existence before trying to load the
	archive.
	* src/file-utils.c (check_permissions): there is no need to add the uri
	in the warning because it's already included in the gerror message.

2008-04-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-tar.c:
	
	Do not use the tar update command because it adds a new file version 
	instead of replacing the old one.

	* src/glib-utils.c: 
	* src/gio-utils.c: 
	* src/fr-window.c: 
	* src/fr-process.h: 
	* src/fr-process.c:  
	* src/fr-command-jar.c: 
	* src/fr-command-iso.c: 
	* src/fr-command.c: 
	* src/fr-archive.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/dlg-add-folder.c: 

	Fixed many uri/path conversions. 

2008-04-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/dlg-add-folder.c: added a left padding to the "Exclude folders that 
	are symbolic links"	option, because it's a sub-option of "Include 
	subfolders".

2008-04-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* configure.in: now requires Nautilus 2.22.2
	* nautilus/nautilus-fileroller.c: 
	* nautilus/fileroller-module.c: use nautilus_file_info_can_write
	to check file permissions.

	Patch by Christian Kellner (bug #501542)

2008-04-06  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (fr_window_finalize): 

	no need to call fr_window_free_open_files in finalize since it's
	already called in fr_window_free_private_data.

2008-04-06  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/open-file.c: 
	* src/main.c: 
	* src/glib-utils.h: 
	* src/glib-utils.c: 
	* src/fr-window.c:  
	* src/fr-command-tar.c: 
	* src/fr-command-iso.c: 
	* src/fr-command.h: 
	* src/fr-command.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/file-data.h: 
	* src/file-data.c: 
	* src/dlg-open-with.c: 
	* src/dlg-add-folder.c: 

	Started fixing regression bugs due to the GIO port.

2008-04-05  Paolo Bacchilega  <paobac@svn.gnome.org>

	ported from the gnome-2-22 branch:

	* src/fr-archive.c (fr_archive_extract_to_local):
 	  	 
	Sort the filtered list before removing the files contained in the 
	extracted directories.  The sorting makes the remove much faster.
 	  	 
	Compute the number of files to be extracted before modifing the list.

2008-04-05  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.h: 
	* src/file-utils.c: 
	
	renamed many functions for clarity, removed unused functions.

	* src/main.c: 
	* src/gio-utils.c: 
	* src/fr-window.c: 
	* src/fr-command-tar.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c:	
	* src/dlg-extract.c: 
	* src/dlg-batch-add.c: 
	* src/dlg-add-folder.c: 
	* src/dlg-add-files.c: 
	* src/actions.c: 
	
	updated function calls.

2008-04-04  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: 
	* src/fr-window.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c: 
	* src/file-utils.c: 
	* src/file-data.h: 
	* src/file-data.c: 

	Use a GFile instead of a simple uri, to reduce the conversions between
	uris and GFiles.

2008-04-03  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/open-file.h: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/fr-archive.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/file-data.h: 
	* src/file-data.c: 
	* src/dlg-update.c: 
	* src/dlg-prop.c: 
	* src/dlg-open-with.c: 
	* src/dlg-batch-add.c: 
	* src/dlg-ask-password.c: 
	* src/actions.c: 

	Fixed all the compiler warnings and errors. 
	Removed all the libgnomevfs* includes.

2008-04-03  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: 
	* src/fr-archive.c: 
	* src/file-utils.h: 
	* src/dlg-open-with.c: 

	remove useless code.

2008-04-03  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/open-file.h: 
	* src/open-file.c: 
	* src/main.c: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/fr-command-jar.c: 
	* src/fr-command-iso.c: 
	* src/fr-archive.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/file-data.c: 
	* src/dlg-open-with.c: 
	* src/dlg-add-folder.c: 

	Continuing GIO port.

2008-04-01  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: 
	* src/fr-archive.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/dlg-update.c: 
	* src/dlg-prop.c: 
	* src/dlg-extract.c: 
	* src/dlg-batch-add.c: 
	* src/dlg-ask-password.c: 
	* src/dlg-add-folder.c: 
	
	Continuing GIO port.
	
2008-04-01  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/file-utils.c: use glib uri functions to escape/unescape an uri

2008-04-01  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-archive.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/file-data.c: 
	* src/actions.c: 

	Continuing GIO port.

2008-03-31  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gnome-vfs-helpers.c:
	* src/gnome-vfs-helpers.h: removed
	
	* src/Makefile.am: 
	* src/main.h: 
	* src/main.c: 
	* src/fr-window.c: 
	* src/fr-archive.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/file-data.h: 
	* src/dlg-prop.c: 
	* src/dlg-batch-add.c: 
	* src/dlg-add-folder.c: 
	* src/actions.c: 
	* nautilus/nautilus-fileroller.c: 
	
	Applied a first batch of changes to complete the GIO port.
	Patch by Andreas Henriksson (see bug #501542).
	
2008-03-31  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gio-utils.c: 
	* src/fr-archive.c:
	
	Misc changes to the copy_extracted_files function. 

2008-03-30  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gio-utils.h: 
	* src/gio-utils.c: 
	* src/fr-archive.c:
	
	Fixed remote copy of files to be added to the archive.
	 
2008-03-30  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gio-utils.h: 
	* src/fr-archive.c (copy_remote_files): 
	
	Use gio to copy the remote files in a local temp dir.

2008-03-29  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-archive.c: 
	
	First batch of changes to copy files/archives using the gio-utils 
	functions.
	
2008-03-29  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/gio-utils.c: 
	* src/gio-utils.h: fixed the copyright year.

2008-03-29  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/Makefile.am: 
	* src/gio-utils.h: 
	* src/gio-utils.c: 
	* src/fr-window.h: 
	* src/file-list.c:
	* src/file-list.h:
	* src/fr-archive.c: 
	* src/fr-archive.h: 
	
	Removed file-list.[ch].  Use the gio-utils functions to read a directory
	content asynchronously.

2008-03-29  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gio-utils.h: 
	* src/gio-utils.c: Fixed many errors. 
	
	* src/Makefile.am: Compile gio-utils.[ch] as well.

2008-03-29  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/gio-utils.h: 
	* src/gio-utils.c: new files

	Started implementing asynchronous recursive copy functions using gio.
	Moved gio functions in gio-utils.c

2008-03-24  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-archive.c: 
	* src/file-list.h: 
	* src/file-list.c: 

	Other changes on the async copy functions.

2008-03-24  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-archive.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/file-list.h: 
	* src/file-list.c: 
	
	Started work on async copy functions.

2008-03-23  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-list.c (match_regexps): added a missing semicolon

2008-03-23  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-list.c (filter_apply): return TRUE if there is no pattern,
	or at least one pattern is matched.

2008-03-23  Paolo Bacchilega  <paobac@svn.gnome.org>
 
	* src/glib-utils.c: 
	* src/fr-archive.c: 
	* src/file-list.h: 
	* src/file-list.c: 
	* configure.in: changed version to 2.23.0, added gio dependency.
	
	Started the porting to GIO.  Ported the functions that traverse a 
	directory strutture and collect the	files to be added to an archive.
	
	Started the porting from g_utf8_fnmatch to GRegexp as well.

2008-03-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.22.0 released ]

	* NEWS: 
	* configure.in: updated

2008-03-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/dlg-ask-password.c (dlg_ask_password__common): 
	
	Fixed bug #518680 – Right click "Extract Here" action: Password dialogue
	doesn't have its title set.
	
	* src/dlg-batch-add.c (add_clicked_cb): 
	
	Fixed bug #504155 – Crash when click on create before it selects the
	current directory

2008-02-25  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.21.92 released ]

	* NEWS: 
	* configure.in: updated for the release.
	
	* src/fr-command-tar.c (fr_command_tar_add): reverted changes as for
	comments in bug #487012

2008-02-11  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.21.91 released ]

	* NEWS: 
	* configure.in: updated for the release.

2008-01-28  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	[ File Roller 2.21.2 released ]
	
	* NEWS: updated.

2008-01-28  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* nautilus/Makefile.am: 
	
	Fixed bug #509933 – 2.21.1 does not compile
	Patch by Joseph Sacco  

2008-01-20  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 

	Fixed bug #303213 – default to extract in home instead of tmp

2008-01-10  Christian Kirbach  <Christian.Kirbach@googlemail.com>

	* src/sexy-icon-entry.c: Include local libsexy copy header, not
	system-wide version.

2008-01-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* data/file-roller.desktop.in.in: 
	
	Added application/x-lzma-compressed-tar (#508368)

2008-01-09  Paolo Bacchilega  <paobac@svn.gnome.org>

	* configure.in: changed version to 2.21.2

2008-01-09  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/ui.h: 
	* src/fr-window.c: 
	* src/actions.h: 
	* src/actions.c: 
	
	Second batch of changes for the find/filter bar.

2008-01-08  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/sexy-icon-entry.h: new file
	* src/sexy-icon-entry.c: new file
	* src/fr-list-model.c: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/Makefile.am: 
	
	Started work an a filter bar.

2008-01-08  Wouter Bolsterlee  <wbolster@svn.gnome.org>

	* configure.in:

	Add gnome-vfs libs for the nautilus extension since
	they're not automatically pulled in with Nautilus
	anymore (Nautilus uses GIO now). The real fix would of
	course be to convert the code to GIO, but this
	workaround at least fixes the build for now. See also
	bug #501542.

2008-01-07  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.21.1 released ]

	* configure.in: 
	* NEWS: updated

2008-01-06  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/open-file.h: 
	* src/open-file.c: 
	* src/Makefile.am: 
	* src/main.h: 
	* src/gtk-utils.c: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/dlg-update.h: 
	* src/dlg-update.c: 

	Implemented the ability to update the files in an archive
	when the files are modified with an external application (#109767)

2008-01-06  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/glib-utils.h: 
	* src/glib-utils.c: 
	* src/fr-window.c: 
	* src/file-utils.c: 
	* src/actions.c: 

	renamed strcmp_null_tollerant to strcmp_null_tolerant.

2008-01-01  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/dlg-update.h: new file
	* src/dlg-update.c: new file
	* data/glade/update.glade: new file
	* src/Makefile.am: 
	* src/fr-window.h: 
	* src/fr-window.c: 	
	* data/glade/Makefile.am: 
	
	Started work to add the ability to update the files in an archive
	when the files are modified with an external application (#109767)

2008-01-01  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command-tar.c (fr_command_tar_add): 
	
	Check for the existence of 'filename.tar.{bz2,gz}' and only if it 
	doesn't exist it makes file-roller call tar with the '-cf' switch.
	Fixes bug #487012.	Patch by Giacomo Perale

2007-12-30  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (key_press_cb): 

	Fixed bug #487079 – Key F10 can not activate the main menu.

2007-12-30  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command-cfile.c (list__process_line): check whether the file
	size is not -1 before converting it to a integer.
	
	Fixes bug #499958 – file size displayed incorrectly on .Z file

2007-12-30  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-command-zip.c (list__process_line): do not ignore lines
	starting with ?
	
	Fixes bug #499558 – File-roller is unable to expand some zip files

2007-12-30  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* src/fr-window.c (key_press_cb): do not handle the delete key here
	anymore.

2007-12-05  Alex Kloss  <alexkloss@att.net>

	* src/ui.h:	 Change mnemonics for "Open Recent", "Delete",
	"Extract", "Open with", "Properties", and
	"Select All" widgets.

	Fixes bug #458399 – fix duplicated hotkeys, assign new hotkeys, add
	some user-friendly features
	
2007-12-30  Paolo Bacchilega  <paobac@svn.gnome.org>

	* nautilus/nautilus-fileroller.c (extract_here_callback): do not append
	anything after extract-here

2007-12-30  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/main.c: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* nautilus/nautilus-fileroller.c: 
	
	No need to specify a destination folder when using the --extract-here 
	option.
	Fixes bug #475166 – Failed assertion when --extract-here is used 
	without --extract-to
	Patch by David Benjamin
	
2007-12-30  Paolo Bacchilega  <paobac@svn.gnome.org>

	* nautilus/nautilus-fileroller.c: added application/x-lzma

2007-12-30  Paolo Bacchilega  <paobac@svn.gnome.org>
	
	* data/file-roller.desktop.in.in: added application/x-lzma

2007-12-28  Ruben Vermeersch  <ruben@savanne.be>

	* src/fr-archive.c:
	* src/fr-command-cfile.c:
	* src/fr-command-tar.c:
	* src/main.c:
	* src/typedefs.h:

	Add support for lzma files, both normal files and tar-files compressed by
	lzma. Fixes bug #502999.
	
2007-12-30  Paolo Bacchilega  <paobac@svn.gnome.org>

	* nautilus/Makefile.am: 
	* configure.in: 
	
	Get the nautilus extesion directory with pkg-config.
	Fixes bug #505987 – Nautilus extension directory changed to -2.0

2007-12-27  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-tar.c (fr_command_tar_add): fixed syntax error.

2007-12-27  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-tar.c (fr_command_tar_add): 
	
	Fixed bug #487012 – file-roller causes gnu tar >= 1.19 to give 
	warnings when creating tar-archives
	Patch by Jürg Billeter
	
	* src/file-utils.c (get_uri_from_path): no need to use strcmp anyway.
	* src/fr-command-arj.c (list__process_line): 
	
	Fixed bug #490891 – skips files when opening an old ARJ archive
	
	* src/file-utils.c (get_uri_from_path): 
	
	Fixed bug #504597 – Direct compare on string
	Patch by JP Rosevear.

2007-11-26  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.20.2 released ]

	* configure.in: 
	* NEWS: updated for version 2.20.2

2007-10-15  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.20.1 released ]

	* configure.in: 
	* NEWS: updated for version 2.20.1
	
2007-10-14  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (fr_window_stop_batch): return after destroying the
	main window.
	
	Fixes bug #482203 – file-roller crashed with SIGSEGV in 
	fr_window_stop_batch()

2007-09-17  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.20.0 released ]

	* configure.in: 
	* NEWS: updated for version 2.20.0

2007-09-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c (fr_window_file_list_drag_data_get): removed old check
	that prevented extraction to remote locations via DnD.
	
	Patch by Amos Brocco, from the launchpad bug #13199.

2007-09-10  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/file-utils.c (uri_is_local): simply check the uri scheme to 
	decide whether the uri is local or not instead of using 
	gnome_vfs_uri_is_local, as suggested in bug #475296.

2007-09-09  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: do not close the window when an error dialog is
	displayed in batch mode.
	
	Fixes bug #463968 – file-roller crashed with SIGSEGV in 
	g_closure_invoke()

2007-09-06  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/dlg-ask-password.c: 
	
	Fixed bug #473158 – ask-password.glade is missing (gutsy)

2007-09-03  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.19.92 released ]

	* NEWS: 
	* configure.in: updated for version 2.19.92

2007-09-02  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-7z.c: add empty folders to the file list as well.

2007-09-01  Paolo Bacchilega  <paobac@svn.gnome.org>

	* MAINTAINERS: changed to comply with the new required format.

2007-08-27  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.19.91 released ]

	* configure.in: 
	* NEWS: updated for version 2.19.91

2007-08-23  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: fixed fr_window_fake_load when the action type
	is FR_BATCH_ACTION_EXTRACT_HERE or FR_BATCH_ACTION_EXTRACT_INTERACT.
	
	Fixed bug #469221 – extract a package on an NTFS partition doesn't 
	work.
	
	* src/fr-command-iso.c: escape the temp directory because 
	ensure_dir_exists takes an uri as input.
	
2007-08-23  Paolo Bacchilega  <paobac@svn.gnome.org>	
	
	* src/fr-archive.c (convert_to_local_file_list): do not add the file 
	to the list if it's NULL.
	* src/file-utils.c (remove_host_from_uri): do not return NULL if the
	path is not absolute.
	
	* src/dlg-batch-add.c: 
	* src/fr-window.c: 
	* src/fr-command-tar.c: escape local filenames when needed.
	
	Fixes bug #469528 – file-roller crashed with SIGSEGV in strlen()

2007-08-22  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-command-tar.c (fr_command_tar_handle_error): ignore non-fatal 
	errors from the tar command (#469221).
	
	* src/fr-window.c (fr_window_current_folder_activated): do crash when
	opening from the sidebar.
	* src/file-data.c (file_data_free): check whether fdata is NULL.

2007-08-21  Paolo Bacchilega  <paobac@svn.gnome.org>

	* src/fr-window.c: 
	
	Fixed bug #468677 – file-roller doesn't open folders if you go up
	one level

2007-08-17  Paolo Bacchilega  <paobac@svn.gnome.org>

	* data/glade/*.glade: 
	
	Splitted file-roller.glade in many files.
	
	* src/fr-archive.c (move_here): do not create a folder if the archive
	content is a single file. 
	
	Fixes bug #467482 – [gutsy regression] "extract here" no longer puts 
	extracted file "here"

2007-08-13  Paolo Bacchilega  <paobac@svn.gnome.org>

	[ File Roller 2.19.90 released ]

	* NEWS: 
	* configure.in: updated for version 2.19.90

2007-08-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: use a height of 10 pixels for the progressbar.
	
	Fixed bug #463887 – Progress bar height should be smaller.

2007-08-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/gtk-utils.c: 
	* src/fr-window.c: 
	* src/actions.c: 

	Fixed bug #463753 – replace gnome_help_display.
	Patch by Jani Monoses

2007-08-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c: renamed local_local_archive to load_local_archive.

2007-08-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-list.c (visit_dir_async): 
	
	Always include the base directory, this way empty base directories 
	are added to the archive as well.
	Fixes bug #463235 – Can't add an empty directory with --add option.
	
2007-08-04  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/ui.h: 
	* src/fr-command-jar.c: 
	* src/actions.c: 
	
	Fixed bug #463251 – remove #include <gnome.h> lines
	Patch by Jani Monoses.

2007-08-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* configure.in: bumped version number to 2.19.5 to differentiate 
	current development version from the latest released version.
	
	* nautilus/nautilus-fileroller.c: 
	
	Fixed bug #144216 – can't open compressed .EXE files
	Patch by Boyd Timothy.

2007-08-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c (fr_window_history_add): do not add path to history
	if it's equal to the current path.

2007-08-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.h: 
	* src/fr-window.c: Fixed renaming of files.  Do not change the current
	location when reloading the archive after a rename.

2007-08-02 Paolo Bacchilega <paobac@cvs.gnome.org>

	* src/fr-window.c: fixed renaming of folders from the sidebar.

2007-08-01  Paolo Bacchilega  <paobac@cvs.gnome.org>
	
	* src/ui.h: removed the view command from the toolbar.
	* src/fr-window.c: make the ViewFolders command insensitive when
	using the FR_WINDOW_LIST_MODE_FLAT mode. 

2007-08-01  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/dlg-extract.c: 
	* src/dlg-delete.c: 

	Added the function fr_window_get_selection to get the current 
	selection and the relative base_dir.  Use it to extract from the sidebar.

2007-08-01  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.h: added fr_window_get_folder_tree_selection.
	* src/fr-window.c: do not append a separator if it's laready present.
	* src/dlg-delete.c: fixed delete from the sidebar context menu.

2007-08-01  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (archive_remove): remove the files inside a folder
	only if archive type has issue deleting non-empty folders.
	* src/fr-window.c (check_clipboard_cb): return FALSE if closing is TRUE.

2007-07-31  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (fr_archive_extract_to_local): readded NULL check 
	on the list.

2007-07-31  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: 
	* src/fr-archive.c: 

	Fixed copy & paste of folders with tar.  Fixed copy & paste from the
	sidebar context menu.

2007-07-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.19.4 released ]

	* NEWS:
	* configure: updated for version 2.19.4
		
2007-07-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.c: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/file-data.c: 
	* src/dlg-open-with.c: 
	* src/actions.c: 
	
	Fixed bug #311674 – replace "View File" Dialog.  Actually the "Open with"
	dialog still exists but it's used only if the mime type has no registered
	application.  The big difference is that now the files are extracted 
	before trying to get the mime type, so the mime type is calculated using
	the content and the file name, and it is therefore more accurate.
	
2007-07-29  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* TODO: added some entries.

	* src/glib-utils.c: added a comment to explaing the time format.
	
	Fixes bug #461356 – Please add comment to this time string.

2007-07-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: 
	* src/fr-window.h: update the current view after reloading the archive.

2007-07-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c (fr_window_copy_or_cut_selection): set the
	base_dir when copying to clipboard.

	* data/glade/ask-password.glade: center the dialog on parent.

2007-07-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: call fr_window_paste_from_clipboard_data for
	FR_BATCH_ACTION_PASTE actions.

2007-07-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: do not re-add the clipboard check when closing. 

2007-07-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: when sorting by size sort folders as well. 
	
	* src/main.c: 
	
	Fixed bug #450150 – Translate program description correctly
	Patch by Gabor Kelemen  

2007-06-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/ui.h: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/dlg-extract.h: 
	* src/dlg-extract.c: 
	* src/dlg-delete.h: 
	* src/dlg-delete.c: 
	* src/actions.h: 
	* src/actions.c: 

	Started work on the sidebar context menu.

2007-06-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c (fr_window_update_dir_tree): unescape the archive
	filename in the tree view.

2007-06-19  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	[ File Roller 2.19.3 released ]

	* NEWS:
	* configure: updated for version 2.19.3
	
2007-06-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: save the filename column width only if it's 
	greater than zero.
	
	* configure.in: Fixed typo.  Patch by Martynas Venckus.
	
2007-06-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/preferences.h: 
	* src/fr-window.c: 
	* data/file-roller.schemas: save and restore the filename column 
	width.

2007-06-15  Paolo Bacchilega  <paobac@cvs.gnome.org>
	
	* src/fr-command-zip.c (mktime_from_string): 
	* src/fr-command-rpm.c (mktime_from_string): 
	* src/fr-command-rar.c (mktime_from_string): 
	* src/fr-command-lha.c (mktime_from_string): 
	* src/fr-command-cpio.c (mktime_from_string): 
	* src/fr-command-ar.c (mktime_from_string): 
	
	removed the -1 from the hour field.

2007-06-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (mktime_from_string): 
	* src/fr-command-ace.c (mktime_from_string): 
	* src/fr-command-cpio.c (mktime_from_string): 
	* src/fr-command-iso.c (mktime_from_string): 
	* src/fr-command-lha.c (mktime_from_string): 
	* src/fr-command-rar.c (mktime_from_string): 
	* src/fr-command-rpm.c (mktime_from_string): 
	* src/fr-command-ar.c (mktime_from_string): 
	* src/fr-command-zip.c (mktime_from_string): 
	* src/fr-command-arj.c (mktime_from_string): 
	* src/fr-command-zoo.c (mktime_from_string_zoo): 
	
	always set tm.tm_isdst to -1

2007-06-14  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: 
	* src/fr-window.h: use a bold font for the archive in the dir list.

2007-06-14  Paolo Bacchilega  <paobac@cvs.gnome.org>
	
	* many_files: use a GPtrArray, instead of a GList, to store 
	the FileData list.  Populate the GtkTreeView in a single step.

2007-06-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (fr_command_tar_recompress): do not rename
	the archive when creating a temp filename.

2007-06-13  Paolo Bacchilega  <paobac@cvs.gnome.org>
	
	* src/fr-window.c (fr_window_close): destroy the window in a idle 
	callback to be sure the clicpboard check has been removed.

2007-06-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/ui.h: view menu reorganized.
	
	* src/preferences.h: 
	* src/fr-window.c: 
	* data/file-roller.schemas: 
	
	Save and restore the sidebar width.

2007-06-13  Paolo Bacchilega  <paobac@cvs.gnome.org>
	
	* src/fr-window.c (add_dir_tree_columns): removed unnecessary call to
	gtk_tree_view_column_set_cell_data_func.
	
	2007-06-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: use a smaller size for the dir tree icons.
	* src/ui.h: added a F9 shortcut for show folders command.

2007-06-12  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c (fr_window_update_dir_tree): show the curent location
	after showing the folders.

2007-06-12  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c (get_tree_iter_from_path): removed a g_print used to
	debug.

2007-06-12  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c (is_temp_work_dir): Fixed.

	* src/ui.h: 
	* src/preferences.h: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/actions.h: 
	* src/actions.c: 

	Added a folders pane.  

2007-06-06  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.c (prepare_app): 
	* src/file-utils.c (file_name_from_path): 
	* src/actions.c (activate_action_save_as): 

	Fixed bug #402756 – Can not open a file whose name is in 
	non-ascii encoding.
	Patch by Takao Fujiwara.

2007-06-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c (fr_window_file_list_drag_data_get): 
	check the target in the selection_data.

2007-06-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c:
	* src/eggtreemultidnd.c: added support for Drag&Drop among file-roller
	windows.

2007-06-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.19.2 released ]

	* NEWS:
	* configure.in: updated for 2.19.2

2007-06-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: removed the clipboard check before destroying 
	the window.

	* src/main.c: escape local paths	
	* src/glib-utils.c: escape # in filenames.
	* src/dlg-batch-add.c: unescape the filename in the text entry.
	
	Fixes bug #439154 – file-roller: fails to create archives from 
	files starting with '#'
	
2007-06-04  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/fr-command-tar.c (fr_command_tar_escape): 
	(fr_command_tar_delete): 
	(fr_command_tar_extract): 
	(fr_command_tar_add): 
	(fr_command_tar_list): Added a --no-wildcards argument to all the 
	commands, and removed the escape of [] in fr_command_tar_escape.
	
	Fixes bug #440662 – extraction of files with special characters only 
	when in directory.
	
2007-06-04  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/glib-utils.c (get_time_string): 

	Fixed bug #402760 – "modified time" column is displayed blank in
	zh_CN.GB18030 locale when creating a new archive
	Patch by Takao Fujiwara
	
2007-04-24  Brian Pepple  <bpepple@fedoraproject.org>

	* data/Makefile.am (update-icon-cache): fix gtk-update-icon-cache for
	uninstall-hook.
	
2007-06-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-cfile.c: 
	
	Fixed bug #438340 – file-roller has problems with files starting 
	with a dash ("-")
	Patch #88736 by Hanusz leszek
	
2007-06-04  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/fr-command-lha.c: 
	
	Fixed bug #398824 – crash in Archive Manager: Opened a lha-archiv
	Patch #82425 by Marc-Andre Lureau  
	
2007-06-04  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/fr-window.c: 
	* src/dlg-batch-add.c: 
	
	Fixed bug #171619 – uses GnomeIconTheme which is deprecated
	Patch #88099 by Jan de Groot  
	
2007-06-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/dlg-ask-password.h: 
	* src/dlg-ask-password.c: ask the password when pasting from a 
	password protected archive.
	
2007-06-03  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/fr-process.c: 
	* src/fr-command.c: 
	* src/fr-command.h: 
	* src/fr-archive.h: 
	* src/fr-archive.c: initial support for cut/copy/paste among different
	windows.

2007-05-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/glade/*.glade: set dialogs position to center_on_parent.

2007-05-14  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.19.1 released ]

	* configure.in:
	* NEWS: updated for 2.19.1
	
2007-04-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (move_here): do not move the content if the single 
	object inside the destination folder is a file.
	* src/actions.c: code style.

2007-04-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (activate_action_about): mark the license and the 
	copyright notes for translation.
	(activate_action_about): fixed syntax error

2007-04-29  Paolo Bacchilega  <paobac@cvs.gnome.org>
	
	* src/fr-window.c: return after handing errors when the error is
	FR_PROC_ERROR_ASK_PASSWORD.
	* src/fr-archive.c (action_performed): when an error occur during the
	extract_here action remove remote destination folder as well.
	
2007-04-29  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/dlg-batch-add.c: always ask whether to overwrite an already
	existing archive.
	
2007-04-29  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/main.c: view the destination folder after performing an
	extract_here operation if the corrisponding gconf key is active.
	
	* src/fr-window.h: code style.
	
	* src/fr-archive.c: when performing an extract_here action
	add the _FILES suffix to the destination folder only when no extension
	is present in the archive name, otherwise use the archive name without
	the extension.
	
	* src/file-utils.h: 
	* src/file-utils.c: added functions get_new_uri, get_new_uri_from_uri.

	* src/fr-window.c: when in batch mode, sleep a second before viewing
	the destination folder to give time to Nautilus to view the new folder.
	Add a timeout if not in batch mode.
	
	* src/fr-archive.c: 
	* src/fr-archive.h: 	
	* src/dlg-extract.c: the folder to view after extraction is computed
	in fr-archive.c

2007-04-28  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.c: 
	* src/fr-window.h: 
	* src/fr-window.h: allow to extract many files at the same time.
		
2007-04-28  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/fr-window.c: make the progress dialog resizable, unescape the
	archive name.

	* src/file-utils.c (get_directory_content_if_unique):  fixed broken logic

	* src/fr-stock.c: 
	* src/fr-stock.h: added a FR_STOCK_CREATE_ARCHIVE stock value.

	* src/dlg-batch-add.c: 
	* data/glade/file-roller.glade: use create-archive stock button
	in the create archive dialog.

2007-04-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/glade/file-roller.glade: use the standard symbol as password 
	character instead of *
	* src/fr-command-zip.c: check standard output for password requests
	when testing the archive.
	
2007-04-27  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/fr-window.c: put the emblem icon at the end of the column.
	* src/fr-command-rar.c: save the encrypted status in the file-data
	structure.

2007-04-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.h: 
	* src/fr-window.c:  Use a second icon to show encrypted entries
	instead of using mime-type icon.  Use gtk_icon_theme instead of 
	gnome_icon_theme.
	
	* src/fr-command-zip.c: 
	* src/file-data.c: code style.

2007-04-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-rar.c: do not change the original path.
	* src/fr-archive.c: escape the local_filename when needed.
	
	* src/file-data.h: 
	* src/file-data.c: allow to free the original_path if
	needed.
	
	* src/dlg-delete.c: bo
	
2007-04-27  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/actions.c: allow to restart a TEST action if a
	password is required.
	
2007-04-27  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/fr-archive.c: emit a completed signal for
	the FR_ACTION_COPYING_FILES_TO_REMOTE action.
	* src/file-utils.c (is_temp_work_dir): return false if not
	a local uri.

	* src/fr-window.c: 
	* src/dlg-ask-password.c: unescape the archive name before
	displaying.

2007-04-26  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/actions.c: save the window size before closing the window.
	
2007-04-26  Paolo Bacchilega  <paobac@cvs.gnome.org>	
	
	* src/fr-archive.c: remove the temp extraction dir if an
	error occurs during extraction.  Rename the extraction directory using
	a " (n)" suffix if the destination already exists.
	
	* src/file-utils.h: 
	* src/file-utils.c: 
	* src/file-list.c: added functions uri_exists, remove_directory, 
	remove_local_directory.

	* src/fr-window.c: use the function remove_local_directory instead of
	rmdir_recursive.

2007-04-25  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.c (prepare_app): use gnome_vfs_make_uri_from_shell_arg
	to open archives.
	
	* src/fr-window.c (fr_window_update_title): unescape the uri in the 
	window title. 
	(error_dialog_response_cb): do not set to modal the main window.
	
	* src/fr-command-zip.c: 
	* src/fr-command-rar.c: better way to find out whether the archive 
	requires a password.
	
	* src/fr-archive.c: make sure the extract_here destination is unique.
	* src/file-utils.c: 
	* src/dlg-prop.c: unescape the uri
	* data/file-roller.desktop.in.in: added TryExec entry

2007-04-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c (fr_window_update_statusbar_list_info): ignore 
	directories when calculating the size.
	
2007-04-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c: display informations about the current directory 
	in the statusbar.  Use the term 'object' instead of 'file' to be 
	consinstent with Nautilus.
	
	* src/file-list.c (visit_current_dir): do not include backup files.
	
2007-04-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-list.c (same_fs):  do not escape the uris.
	
	* src/actions.h: 
	* src/actions.c: 
	* src/fr-window.c: fixed creation of a new archive with drag &drop.
		
2007-04-24  Paolo Bacchilega  <paobac@cvs.gnome.org>
	
	* src/main.c: 
	* src/fr-window.h: 
	* src/fr-window.c: 
	* src/fr-archive.h: 
	* src/fr-archive.c: 
	* src/sh/move-here.sh: deleted.
	* src/sh/Makefile.am: removed move-here.sh
	* src/file-utils.h: 
	* src/file-utils.c: 
	
	Implement the extract here command in fr-archive instead of
	using a shell script.  Allow to use extract_here for remote 
	archives.
	
	* nautilus/nautilus-fileroller.c: allow to extract remote archives.
	
2007-04-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.c:
	* src/fr-command.h:
	* src/fr-archive.c:
	* src/dlg-extract.c:

	started support for extracting files to remote locations.

2007-04-17  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-ask-password.c:
	* src/dlg-batch-add.c:
	* src/dlg-extract:
	* src/fr-window.c:
	* src/fr-window.h:
	* src/main.c: renamed batch functions and types.

2007-04-17  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.c:
	* src/fr-window.h:
	* src/fr-window.c:
	* src/fr-archive.c:
	* src/dlg-extract.c:
	* src/dlg-batch-add.c:
	* src/actions.c:

	Fixed batch action to create archives.

	* nautilus/nautilus-fileroller.c: use uris instead of local paths

2007-04-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c (path_in_path): fixed comment.

2007-04-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/gtk-utils.c:
	* src/fr-window.c:
	* src/fr-archive.c:
	* src/dlg-extract.c:
	* src/dlg-batch-add.c:
	* src/dlg-add-folder.c:
	* src/dlg-add-files.c:
	* src/actions.c:

	Always use _gtk_error_dialog_new for error dialogs.

2007-04-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/gtk-utils.h:
	* src/gtk-utils.c:

	Made error dialog HIG compliant.

	* src/glib-utils.h:
	* src/gconf-utils.c:
	* src/fr-window.h:
	* src/fr-window.c:
	* src/fr-archive.c:
	* src/dlg-batch-add.c:
	* src/actions.c:

	Fixed error handling when cannot load an archive.

2007-04-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.[ch]:
	* src/fr-command*:
	* src/fr-process.[ch]:
	* src/fr-window.c:
	* src/main.h:

	Changed class name prefix from FR to Fr

2007-04-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-window.h:
	* src/fr-window.c: new files

	* src/window.h:
	* src/window.c: deleted files.

	* src/ui.h:
	* src/typedefs.h:
	* src/preferences.h:
	* src/preferences.c:
	* src/Makefile.am:
	* src/main.h:
	* src/main.c:
	* src/gtk-utils.c:
	* src/fr-list-model.c:
	* src/fr-archive.h:
	* src/fr-archive.c:
	* src/file-utils.c:
	* src/dlg-prop.h:
	* src/dlg-prop.c:
	* src/dlg-password.h:
	* src/dlg-password.c:
	* src/dlg-open-with.h:
	* src/dlg-open-with.c:
	* src/dlg-extract.h:
	* src/dlg-extract.c:
	* src/dlg-delete.c:
	* src/dlg-batch-add.h:
	* src/dlg-batch-add.c:
	* src/dlg-ask-password.h:
	* src/dlg-ask-password.c:
	* src/dlg-add-folder.c:
	* src/dlg-add-files.c:
	* src/actions.c:

	The main window is now an FrWindow object derived from GnomeApp
	instead of a simple struct.

2007-04-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (fr_archive_extract): extract if the file_list is NULL
	and propCanExtractAll is true.

2007-04-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c (path_in_path): make it work even when a directory
	ends with a separator.
	* src/fr-archive.c (file_is_in_subfolder_of): use path_in_path
	* src/fr-archive.c (fr_archive_extract): better code to check whether
	a folder should not be extracted.

	* src/fr-archive.c (fr_archive_extract): do not extract the folders when
	using tar archives.

2007-04-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/glade/file-roller.glade: use GTK_STOCK_DELETE in the delete dialog.
	* src/window.c (window_paste_selection): use GTK_STOCK_PASTE instead
	of GTK_STOCK_OK.

2007-04-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c: wait for the _ADDING_FILES action to terminate.
	* src/file-list.c (visit_dir_async, get_wildcard_file_list_async):
	make sure the disrectory is a uri using get_uri_from_path.

2007-04-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c:
	* src/typedefs.h:
	* src/gtk-utils.c:
	* src/fr-process.c:
	* src/fr-command-zip.c:
	* src/fr-command-unstuff.c:
	* src/fr-command-rar.c:
	* src/fr-command-arj.c:
	* src/fr-command-7z.c:
	* src/fr-command.h:
	* src/fr-command.c:
	* src/fr-archive.h:
	* src/fr-archive.c:
	* src/dlg-add-folder.c (file_sel_response_cb): unescape the dest_dir
	before calling add_with_wildcard.
	Renamed FR_PROC_ERROR_GENERIC as FR_PROC_ERROR_COMMAND_ERROR, use
	FR_PROC_ERROR_GENERIC for vfs errores.
	Fixed archive_remove when removing folders from the archive.

2007-04-14  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.h:
	* src/window.c:
	* src/fr-command.h:
	* src/fr-archive.h:
	* src/fr-archive.c:
	* src/file-utils.h:
	* src/file-utils.c:
	* src/file-list.c:
	* src/dlg-extract.c:
	* src/dlg-batch-add.c:
	* src/actions.c: started work on adding remote files and folders
	with drag and drop.

2007-04-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c:
	* src/fr-archive.c: remove the temp work dir after adding the files
	to the archive and after copying the files to the remote location.

2007-04-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (copy_remote_file): check whether the file exists
	before copying it.

2007-04-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c: fixed add to the recent list when no mime type
	is available.
	* src/fr-archive.c: fixed add_files function with local uris.
	* src/actions.c: allow to create remote archives.

2007-04-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c: replaced function get_file_list_from_uri_list
	with get_uri_list_from_selection_data.
	* src/dlg-add-folder.c: removed update_sensitivity function.

2007-04-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.c: call gnome_authentication_manager_init

2007-04-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-list.c:
	* src/dlg-batch-add.c:
	* src/dlg-add-folder.c:
	* src/dlg-add-files.c:

	Allow to add a remote folder.

2007-04-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.h:
	* src/window.c:
	* src/fr-archive.h:
	* src/fr-archive.c:
	* src/dlg-add-files.c: more work on adding remote files.

2007-04-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.h:
	* src/window.c:
	* src/main.c:
	* src/fr-command.h:
	* src/fr-command.c:
	* src/fr-archive.h:
	* src/fr-archive.c:
	* src/file-utils.c:
	* src/dlg-add-files.c: started support for adding remote files.

2007-04-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c (get_temp_work_dir): added a comment.
	(get_temp_work_dir): return NULL if an error occurs.

2007-04-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.h:
	* src/fr-archive.c: added a private field.

	* src/file-utils.c (get_temp_work_dir): create the temp working dir
	under the home folder if there is more free space then in the temp dir.
	* src/fr-archive.c (get_temp_local_filename): use get_temp_work_dir

2007-04-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c:
	* src/fr-archive.c:
	* src/fr-archive.h: allow to stop xfer to/from remote locations.

	* src/file-utils.h:
	* src/file-utils.c: added uricmp

2007-04-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c: delete the local_filename only if the archive is
	remote.
	* src/window.c: support uris for recent entries.

2007-04-01  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c:
	* src/dlg-add-files.c:
	* src/dlg-add-folder.c:
	* src/dlg-batch-add.c:
	* src/dlg-extract.c:
	* src/dlg-prop.c:
	* src/file-utils.c:
	* src/file-utils.h:
	* src/fr-archive.c:
	* src/fr-archive.h:
	* src/fr-command.c:
	* src/window.c:

	Started support for saving remote archives.

	* data/file-roller.desktop.in.in: use %U instead of %F

2007-03-31  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c:
	* src/dlg-prop.c:
	* src/file-list.c:
	* src/file-utils.c:
	* src/file-utils.h:
	* src/fr-archive.c:
	* src/fr-archive.h:
	* src/fr-command.h:
	* src/main.c:
	* src/window.c:

	Started support for loading remote files.
	Still a lot of work to be done.

	* configure.in: changed version to 2.19.0

2007-03-12  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.18.0 released ]

	* configure.in:
	* NEWS: updated for 2.18.0

2007-03-07  Christian Kirbach  <Christian.Kirbach@googlemail.com>

	* data/file-roller.desktop.in.in:

	"Application" is not a valid category in the freedesktop specification.

2007-02-28  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/glade/ask-password.glade:

	Fixed bug #407461 – Use standard password blank character instead of stars

2007-02-26  Brian Pepple  <bpepple@fedoraproject.org>

	* src/actions.c:
	* src/dlg-password.c:
	* src/fr-command-lha.c:
	* src/fr-command-arj.c:
	* src/fr-command-cfile.c:
	* src/fr-command-ace.c:
	* src/fr-command-rpm.c:
	* src/fr-command-ar.c:
	* src/fr-command-rar.c:
	* src/fr-command-tar.c:
	* src/fr-command-iso.c:
	* src/fr-command-7z.c:
	* src/fr-command-zip.c:
	* src/fr-command-zoo.c:
	* src/dlg-add-files.c:
	* src/fr-command-unstuff.c:
	* src/fr-command-cpio.c:
	* src/glib-utils.c:
	* src/dlg-ask-password.c:
	* src/dlg-prop.c: Remove unnecessary includes.

2007-02-26  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.17.92 released ]

	* NEWS:
	* configure.in: updated for 2.17.92

2007-02-26  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (compute_file_list_name):

	Fixed bug #409433 – Feisty Herd4: File-Roller shows directory name twice.

2007-02-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.17.91 released ]

	* NEWS:
	* configure.in: updated for 2.17.91

2007-02-07  Jonathon Jongsma  <jjongsma@gnome.org>

	* src/dlg-extract.c: (create_extra_widget): change the accel key to 't' for
	"Re-create folders" option so it doesn't conflict with the "Extract" action.

2007-02-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/glade/ask-password.glade:
	* data/glade/Makefile.am:
	* po/POTFILES.in:
	* src/dlg-ask-password.c:
	* src/dlg-ask-password.h
	* src/dlg-password.c:
	* src/dlg-password.h:
	* src/Makefile.am:
	* src/window.c:

	Made the password dialog HIG compliant.  Fixes bug #396775 – Tell what
	archive is concerned when asking for password

	* src/glib-utils.c (eat_void_chars):
	* src/glib-utils.h: added function eat_void_chars to check whether a string
	is void.

	* src/dlg-open-with.c: disable the ok button in the 'open with' dialog
	if no application has been selected (#395074).

2007-01-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.17.90 released ]

	* NEWS:
	* configure.in: updated for 2.17.90

2007-01-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.17.5 released ]

	* NEWS:
	* configure.in: updated for 2.17.5

2006-12-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.c: use application/x-ms-dos-executable for .exe files.

	* src/window.c (window_paste_selection_to): skip folders when moving the
	selection in the new location.

2006-12-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c:
	(window_archive_save_as):
	* src/fr-command-iso.c (fr_command_iso_extract):
	(fr_command_iso_list):
	* src/sh/isoinfo.sh: fixed extraction of iso files when the file itself or
	the files contained in the iso have spaces in the name.

	Fixed bug #374478 – crash in Archive Manager: using archive
	manager to...

	* src/main.c: exe files cannot be saved.

	* src/fr-process.c (start_current_command): only append non-null args

	* src/fr-command-tar.c:

	Fixed bug #384499 – File-roller does not handle filenames starting with
	a dash (-) correctly.
	Fixed bug #384504 – File-roller does not handle filenames containing
	a backquote (`) correctly.

	* src/typedefs.h:
	* src/main.c:
	* src/fr-archive.c (create_command_from_mime_type):

	Fixed bug #387602 – Cannot open self-extracting files (*.exe)
	Patch by Boyd Timothy

	(create_command_from_filename):
	* data/icons/*: removed some Makefile.in

2006-12-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.17.4 released ]

	* NEWS:
	* configure.in : updated for 2.17.4

	* data/icons/*
	* src/main.c:
	* configure.in:

    Fixed bug #362922 – Icons violating license
    Patch by Luca Ferretti

2006-12-17  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-prop.c:
	(dlg_prop):
	* src/window.c (scale_icon):
	* src/glib-utils.h:
	* src/glib-utils.c (get_time_string):

	Fixed bug #324154 – file-roller can't display modified time on
	non-utf8 locale

2006-12-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-extract.c:
	* src/eggtreemultidnd.h:
	* src/file-utils.c:
	* src/eggtreemultidnd.c:
	* src/file-list.c:
	* src/fr-list-model.c:
	* src/file-utils.h:
	* src/window.h:
	* src/window.c:

	Use the XDS protocol to extract dragged files.
	Fixes bug #102501 – Drag-and-drop extract operation should run instantly in
	background.

	* src/window.c (window_archive_extract__common): exec move-here.sh only
	when performing a extract-here operation (bug #385904).
	Patch by Jens Granseuer.

2006-12-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/icons/*:
	* configure.in: new icons from Jakub Steiner.

2006-12-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.17.3 released ]

	* NEWS:
	* configure.in: updated for 2.17.3

2006-11-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c:
	* src/ui.h:
	* src/window.c:

	Fixed bug #367385 – [WISHLIST] file-roller does not close after closing
	last open archive in violation of HIG
	Patch by Björn Lindqvist

	* src/window.h:
	* src/window.c: removed unused function window_archive__close

	Fixes bug #371582 – Dead code in window.c
	Patch by Björn Lindqvist

	* src/window.h:
	* src/window.c (window_fake_load):

	disable fake load when the command cannot extract all the files (that is
	when propCanExtractAll is false).  This only happens with fr-command-iso.

	* src/fr-command-iso.c (fr_command_iso_extract):
	(fr_command_iso_class_init): removed unused error handling function.
	* src/sh/isoinfo.sh: removed debug code.

	Fixed bug #376848 – [PATCH] ISO extraction does not work
	Partial patch by Joe Marcus Clarke.

2006-11-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.17.2 released ]

	* NEWS:
	* configure.in: updated for 2.17.2

	* src/fr-command-iso.c (fr_command_iso_extract): removed unused variable.
	* src/sh/Makefile.am: added .sh files to EXTRA_DIST

2006-11-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-zip.c (process_line__common):
	* src/fr-command-tar.c (process_line__generic):
	* src/fr-command.c (fr_command_set_n_files): do not display a 100% progress
	bar when the last file is processed.

	* src/window.c (window_close): remove the update list timeout when closing
	the window (bug #370691).

	* src/ui.h:

	Fixed bug #370754 – Manual menu item should be 'Contents' not 'Help'

	* src/window.c: do not update the window widgets when in batch mode.  Use
	the move-here.sh script to rename the extraction folder if a folder with
	the same name already exists.

	* src/fr-archive.c (fr_archive_extract): do not add directories in the
	extraction list when using tar.

	* src/file-utils.c (path_exists):
	* src/file-utils.h: added path_exists function
	* src/fr-command.c (fr_command_done): always set restart to FALSE

	* src/fr-command-iso.h:
	* src/fr-command-iso.c: use isoinfo.sh to get the supported extensions.

	* src/sh/Makefile.am: new file
	* src/sh/isoinfo.sh: new file
	* src/sh/move-here.sh: new file
	* src/Makefile.am:
	* configure.in: added some shell scripts.

2006-10-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-rar.c (fr_command_rar_test):

	Fixed bug #348524 – rar archives give ERROR: Unknown option: idp
	Patch by talat@uyarer.com

2006-10-23  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.h:
	* src/actions.c (activate_action_open_folder):
	* src/actions.h:
	* src/window.c (window_get_selected_folder):
	* src/ui.h:

	Fixed bug #338210 – Context menu option "open files" not available for
	folders.

	* src/fr-command-rar.c (fr_command_rar_handle_error): do not change
	FR_PROC_ERROR_EXITED_ABNORMALLY errors to FR_PROC_ERROR_ASK_PASSWORD

	Fixes bug #347019 – incorrect error message shown when trying to open
	incomplete archive

	* src/java-utils.c: removed c++ comments, changed code style.

2006-10-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (get_mime_type_from_sniffer):
	* src/Makefile.am:
	* src/fr-command-jar.c: new file
	* src/fr-command-jar.h: new file
	* src/java-utils.c: new file
	* src/java-utils.h: new file

	Fixed bug #43975 – View as Java Archive (jar)
	Patch by Srinath C  <sri_nathc@yahoo.com>

	* src/fr-stock.c: Use "View File" as label for the FR_STOCK_VIEW action.
	* src/ui.h: use the stock label for the ViewFile command.

	Fixes bug #348211 – Please distinguish "View" menus/buttons for translation.

	* src/fr-command-cfile.c (fr_command_cfile_extract): do not escape the
	filename twice.

	Fixes bug #355307 – If uncompressed name not specified in compressed file,
	cannot view, bad extracted filename.

2006-10-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-unstuff.c (fr_command_unstuff_extract):

	Fixed bug #160991 – Crash while trying to extract from a .sit
	Patch by Sven Rech

	* data/glade/file-roller.glade:

	Fixed bug #350192 – [PATCH] Make the Ok button to be default in delete
	dialog.
	Patch by Nelson Benitez.

	* src/window.c (_window_add_to_recent_list):

	Do not add temp archives to the recent files list (really this time).

	* src/main.c:
	* src/fr-command-7z.c (fr_command_7z_new): Use the 7zr command if available.
	Use the unix notation for paths instead of the dos notation.  Allow to
	create 7zip archives.

	Fixes bug #349824 – does not work with 7zr.

2006-10-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* configure.in:
	* data/Makefile.am:
	* data/icons/*: new files
	* src/fr-stock.h:
	* src/Makefile.am:
	* src/dlg-add-files.c:
	* src/ui.h:
	* src/window.c:
	* src/fr-stock.c:

	Make stock icons themable. (#362922)

2006-10-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.17.1 released ]

	* NEWS:
	* configure.in: updated for version 2.17.1

	* src/dlg-extract.c (extract_cb):
	* data/glade/Makefile.am:

	Use the file-chooser dialog to extract files.

	* src/dlg-add-folder.c (aod_apply_cb): fix folder selection when loading
	the options.

2006-10-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-add-folder.c (add_folder_cb):
	* src/icons/Makefile.am:
	* src/fr-stock.c:
	* src/fr-stock.h:
	* src/ui.h:
	* src/window.c (_window_update_sensitivity):
	* src/icons/*

	Added "Add Folder" to the toolbar.  Updated the icons.

	* src/fr-command-cpio.c:
	* src/fr-command-rpm.c:

	Fixed bug #359629 – rpm support on solaris failing
	Patch by Matt Keenan

	* src/window.c:
	* src/file-list.c:
	* src/file-list.h:
	* src/file-data.c:
	* src/file-data.h:
	* src/file-utils.c:
	* src/file-utils.h:
	* src/fr-archive.c:
	* src/fr-command-7z.c:
	* src/fr-command.c:
	* src/fr-command.h:
	* src/fr-command-zip.c:
	* src/fr-command-arj.c:
	* src/fr-command-cpio.c:
	* src/fr-command-lha.c:
	* src/fr-command-lha.c:
	* src/fr-command-tar.c:
	* src/fr-command-rar.c:
	* src/fr-command-ar.c:
	* src/fr-command-tar.c:

	Allow to store, view and extract empty folders.  Fixes bug #162792.

2006-10-12  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-unstuff.c (process_line):

	Fixed bug #304362 - crash extratcting .sit stuffit files

	* src/file-utils.h:
	* src/file-utils.c: added function dir_is_temp_dir
	* src/dlg-extract.c (dlg_extract):
	* src/window.c (_action_performed): do not save the temp dir as default
	extraction dir.

	Fixes bug #303213 - default to extract in home instead of tmp

	* src/fr-command-rpm.c (mktime_from_string): fixed date parsing function.
	use short format arguments.

	* src/fr-command-cpio.c: (list__process_line): removed debug line

	* src/fr-command-cpio.h:
	* src/fr-command-cpio.c:
	* src/Makefile.am:
	* src/fr-archive.c:
	* src/typedefs.h:
	* src/main.c:

	Added cpio support.  Patch by Ian Burrell.  Bug #336129

	* data/file-roller.desktop.in.in: added ace and cpio mime-type

	* src/window.c (fr_window_file_list_drag_data_get):
	* src/file-utils.c (get_temp_work_dir): show an error dialog instead of
	aborting when a temp dir cannot be created.

	* src/fr-command-ace.h:
	* src/fr-command-ace.c:
	* src/typedefs.h:
	* src/main.c:
	* src/fr-archive.c:

	Started ace support.

	* src/glib-utils.c (n_fields):
	* src/glib-utils.h: added function n_fields.

	* data/file-roller.desktop.in (MimeType): added ace mime-type

2006-10-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* configure.in: changed version to 2.17.0

2006-10-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.16.1 released ]

	* configure.in:
	* NEWS: updated for version 2.16.1

2006-09-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.16.0 released ]

	* NEWS:
	* configure.in: updated for version 2.16.0

2006-08-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.15.93 released ]

	* NEWS:
	* configure.in: updated for version 2.15.93

2006-08-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (get_temp_name): make the temp filename hidden

	Fixes bug #153642: Temporary files are created on the current directory

2006-08-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (sort_by_type): fix function names

	* src/file-data.c (file_data_get_mime_type): use ->mime_type
	instead of ->type

	* src/file-utils.h:
	* src/file-utils.c (get_mime_type):

	new function to get the mime type from the filename.

	* src/file-data.c (file_data_update_mime_type):
	* src/dlg-open-with.c (dlg_open_with):

	use get_mime_type.

	* src/window.c (update_file_list_idle):

	compute the mime type when creating the file list.

	* src/fr-command-7z.c (list__process_line):
	* src/fr-command-ar.c (process_line):
	* src/fr-command-arj.c (list__process_line):
	* src/fr-command-cfile.c (fr_command_cfile_list):
	* src/fr-command-iso.c (list__process_line):
	* src/fr-command-lha.c (process_line):
	* src/fr-command-rar.c (process_line):
	* src/fr-command-rpm.c (list__process_line):
	* src/fr-command-tar.c (process_line):
	* src/fr-command-unstuff.c (process_line):
	* src/fr-command-zip.c (list__process_line):
	* src/fr-command-zoo.c (process_zoo_line):

	do not compute the mime type in the process line functions.

	Fixed bug #349095: Filetypes seriously screwed up in .zip files

2006-08-15  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Fix intltool req.

2006-08-14  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/Makefile.am: add the .desktop.in file to EXTRA_DIST and
	DISTCLEANFILES.

	* configure.in:
	* data/file-roller.desktop.in.in (X-GNOME-Bugzilla-Version):
	* data/Makefile.am:

	Added X-GNOME-Bugzilla-Version field to the .desktop file.

	* src/fr-command.c:
	* src/fr-command.h:
	* src/fr-command-*.c: added a password to the list method.

	* src/dlg-password.h:
	* src/dlg-password.c:
	* src/window.h:
	* src/window.c: prompt for the password when an archive is encrypted
	instead of simply displaying a warning on how to spicify a password;
	do not use the encrypted emblem for folders.

2006-08-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.15.92 released ]

	* configure.in:
	* NEWS: updated for 2.15.92

	* src/window.c (window_init_recent_chooser): removed add_filter
	* src/glib-utils.c (shell_escape):
	* src/fr-command-tar.c (fr_command_tar_escape): escape < and > as well.

2006-08-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.15.91 released ]

	* configure.in:
	* NEWS: update for 2.15.91

2006-07-25  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/glib-utils.c (shell_escape): implement shell_escape with
	g_shell_quote

	Fixed bug #343739 – Seems to not escape file names correctly.

	* src/fr-command-tar.c (fr_command_tar_add)
	(fr_command_tar_extract): add p option to preserve permissions.

	Fixes bug #340050 – tar permissions are not preserved.

	* nautilus/nautilus-fileroller.c:

	Fixed bug #339913 – "create archive" option does not work on some
	filenames.
	Patch by Vassilis Pandis.

	* src/main.c (prepare_app):

	Fixed bug #347624 – fix build with gcc 2.95
	Patch by Jens Granseuer

	* src/window.c (_window_update_sensitivity):

	Fixed bug #347416 – RecentFilesMenu - OpenRecentMenu converting
	Patch by Rene Vahtel

2006-07-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.15.90 released ]

	* configure.in:
	* NEWS: updated for 2.15.90

2006-07-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.15.1 released ]

	* NEWS: updated for 2.15.1

2006-07-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.h:
	* src/dlg-add-files.c:
	* src/dlg-add-folder.c:
	* src/gtk-utils.h:

	Include <glib/gi18n.h>

	* src/Makefile.am:
	* src/recent-files/*: removed
	* src/window.h:
	* src/window.c:
	* src/ui.h:

	Use GtkRecent instead of EggRecent.

	* configure.in: require gtk 2.10 for GtkRecent

2006-07-09  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/file-roller.schemas:
	* src/preferences.h (PREF_UI_WINDOW_WIDTH):
	* src/window.c (window_close):

	Fixed bug #345052 – file roller should remember the size of the window
	when it closes.

	* src/ui.h:

	Fixed bug #345278 – File operations on the Edit menu should be moved to
	the Archive menu.

	* src/window.c (key_press_cb):

	Fixed bug #342251 – backspace does not go up a directory (ala Nautilus)
	Patch by Richard Quirk.

2006-06-25  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-zip.c (list__process_line): ignore lines
	that do not describe files or directories.

2006-06-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.c:

	Fixed bug #336078 - [PATCH] Convert from popt to GOption
	Patch by Ruben Vermeersch

	* src/fr-archive.c (NCARGS):
	* nautilus/Makefile.am (libnautilus_fileroller_la_LDFLAGS):

	Fixed bug #317782 - file-roller Cygwin build fixes
	Patch by Cygwin Ports maintainer

	* src/window.c (get_icon):
	* src/fr-command-zip.c (fr_command_zip_list, list__process_line):
	* src/fr-command-arj.c (list__process_line):
	* src/file-data.c (file_data_copy):
	* src/file-data.h:

	Fixed bug #152039 - Password Protected Files must be displayed
	differently
	Patch by Sven Rech

	* configure.in: set version to 2.15.1

2006-05-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.14.3 released ]

	* configure.in:
	* NEWS: updated for 2.14.3

2006-04-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-open-with.c (delete_recent_cb):

	Fixed bug #338944 - Open Files..., can't delete programs

2006-04-15  Brian Pepple  <bdpepple@gmail.com>

 	* configure.in: Update to conform with new handling
 	for po/LINGUAS.  Refer to
 	http://live.gnome.org/GnomeGoals/PoLinguas

2006-04-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.14.2 released ]

	* NEWS:
	* configure.in: updated for 2.14.2

2006-04-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (fr_command_tar_escape): fixed tar
	escaping.

2006-04-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.14.1 released ]

	* NEWS: updated.

	* src/fr-process.c (check_child): really ignore errors when
	ignore_error is TRUE.

	Fixes bug #337331 - Cut/Paste same file results in loss of file.

2006-04-09  Brian Pepple  <bdpepple@ameritech.net>

	* po/LINGUAS: New file listing all supported languages.

	* configure.in: Use po/LINGUAS instead of including all languages
	directly in this file. See the wiki for more information:
	http://live.gnome.org/GnomeGoals/PoLinguas

2006-04-09  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-arj.c (fr_command_arj_handle_error):

	Fixed bug #337784 - password protected arj files.  Patch by Sven Rech.

	* src/fr-command-zip.c (fr_command_zip_escape): fixed zip escaping.

	* src/eggtreemultidnd.c: applied patch by Yann Rouillard, from
	bug #119513.

	Fixes bug #337754 - Drag and Drop extraction only works when source
	already has focus.

2006-04-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_open_files__extract_done_cb): pass an uri list
	to gnome_vfs_mime_application_launch.

2006-04-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_new): adde 7z to the egg_recent filter.

2006-04-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-7z.c (list__process_line): check fields length
	before processing the line. Do not substitute / with \

	Fixes bug #335368 - Crash when opening large 7z-archive.
	Fixes buf #326193 - file-roller creates empty 7zip archives.

	* src/eggtreemultidnd.c (egg_tree_multi_drag_motion_event):

	Use GDK_ACTION_MOVE instead of GDK_ACTION_COPY
	Fixes bug #335659 - File Roller should move not copy files.

	* src/glib-utils.c (debug): use FILE-ROLLER as prefix.

	* src/window.c (window_archive_extract__common): check
	whether all files got filtered.

	Fixes bug #336854 - crash on twice unpacking to the same location.

2006-04-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* configure.in: set version to 2.14.1

	* src/gtk-utils.h (show_help_dialog):
	* src/gtk-utils.c:
	* src/dlg-prop.c:
	* src/dlg-extract.c:
	* src/dlg-add-folder.c (file_sel_response_cb):
	* src/dlg-add-files.c (file_sel_response_cb):
	* src/actions.c (new_file_response_cb):
	* help/C/file-roller.xml:
	* data/glade/file-roller.glade:

	Added help button to all the dialogs.
	Fixed bug #336632 - Help for Extract Dialog pointing to incorrect
	location.

	* src/window.c (window_open_files__extract_done_cb): do not
	escape the path here.
	* src/fr-command-tar.c (fr_command_tar_escape): double escape \
	* src/fr-command-zip.c (zip_escape): escape \

	Fixes bug #336908 - backshalshes not supported in paths

2006-04-01  Brian Pepple  <bdpepple@ameritech.net>

 	* configure.in:
 	* src/actions.c (activate_action_about):
 	* src/main.c:
 	* data/file-roller.desktop.in (Icon):
 	* data/Makefile.am (install-data-hook):

 	Install theme-friendly icons, and simplify about dialog.

2006-04-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-rar.c (fr_command_rar_handle_error): ask for
	the password when trying to open a password protected rar
	archive.  Patch by Sven Rech.

	* autogen.sh (REQUIRED_AUTOMAKE_VERSION): set
	USE_COMMON_DOC_BUILD to yes. Requires automake 1.8 (#332800).

2006-03-22  Tommi Vainikainen  <thv@iki.fi>

	* configure.in (ALL_LINGUAS): Added Dzongkha (dz).

2006-03-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (activate_action_about):

	Fixed bug #335035 - mistake in file-roller's License.

2006-03-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.14.0 released ]

	* NEWS:
	* configure.in: updated

2006-03-04  Jérémy Ar Floc'h  <jeremy.lefloch@gmail.com>

	* po/br.po: Added Breton translation.
	* configure.in: Added Breton translation (br).

2006-03-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (about): added license button to the about dialog.

2006-03-01  Vladimer Sichinava <vlsichinava@gmail.com>

	* configure.in: Added ka (Georgian) to ALL_LINGUAS

2006-02-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.13.92 released ]

	* NEWS:
	* configure.in: updated

2006-02-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* nautilus/nautilus-fileroller.c:

	Fixed bug #331601 – Nautilus doesn't display the "Extract here" menu
	option for files which have a ".ps.gz"
	Patch by Sebastien Bacher

2006-02-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.13.91 released ]

	* configure.in:
	* NEWS: updated.

2006-02-12  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/file-roller.desktop.in (MimeType):

	Fixed bug #330315 - ps.gz files not associated.
	Patch by Christopher Aillon.

	* src/dlg-extract.c (create_extra_widget):

	Fixed bug #328942 - Don't translate empty strings

2006-01-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.13.90 released ]

	* configure.in:
	* NEWS: updated

2006-01-25  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/file-roller.keys: removed
	* data/file-roller.mime: removed
	* data/Makefile.am (SUBDIRS):

	Fixed bug #328473 – should not distribute pre-gnome-2.8 mime files
	(patch attached).  Patch by Stephane LOEUILLET.

2006-01-23  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_archive_extract__common):
	* src/file-utils.c (dir_contains_one_object): reset window->extract_here_dir
	when not porforming an extract_here action.

	Fixes bug #328331 - Crashes on extraction

2006-01-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/file-roller.desktop.in (Categories): added GTK

	Fixes bug #328036 - Add GTK category to the .desktop file

2006-01-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.13.4 released ]

	* configure.in:
	* NEWS:

	updated for 2.13.4

2006-01-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/file-roller.desktop.in (Categories):

	Fixed bug #139912 - file roller is not a "system tool".

	* nautilus/nautilus-fileroller.c (extract_here_callback):
	* src/file-utils.h:
	* src/window.h:
	* src/main.c (prepare_app):
	* src/fr-process.h (fr_process_stop):
	* src/fr-process.c:
	* src/file-utils.c:
	* src/window.c (window_archive_extract__common):

	Fixed bug #168388 - file roller shouldn't create an ARCHIVE_FILES
	folder if the archive only have one root folder

2006-01-14  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (make_uris): escape the path when creating the dnd uri
	list.

	* src/glib-utils.c (shell_escape): removed @# from the chars to escape.

	* src/fr-command-cfile.c (fr_command_cfile_extract): removed debug
	code.

	Fixes bug #326810 - file-roller escaping issue with '#' by example.

2006-01-06  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/file-roller.applications: removed
	* data/Makefile.am (desktopdir): removed .applications
	file installation.

2006-01-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.13.3 released ]

	* configure.in:
	* NEWS: updated for 2.13.3

2005-12-29  Abel Cheung  <maddog@linuxhall.org>

	* configure.in: Added "hy" "zh_HK" to ALL_LINGUAS.

2005-12-12  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.13.2 released ]

	* NEWS: updated.

2005-12-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (check_archive_filename_from_selector)
	(new_file_response_cb, save_file_response_cb): use a unique
	function to get the filename from the filechooser, to be
	used both when creating and when saving an archive.

	* src/actions.c (activate_action_save_as): set the archive filename.

	Fixes bug #323713: "Save as" should default to current archive filename

2005-12-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-list-model.c (fr_list_model_multi_row_draggable):

	Implemented fr_list_model_multi_row_draggable. Removed unused code.

	* src/gtk-utils.c (get_folder_pixbuf_size_for_list)
	(create_pixbuf): new functions
	* src/dlg-open-with.c (dlg_open_with):

	added icons to the applications list.

	* src/eggtreemultidnd.c:
	* src/window.c:
	* src/window.h:

	first attempt to fix multi file dnd (#315069)

	* src/glib-utils.c:
	* src/glib-utils.h: new files
	* src/file-utils.c:
	* src/file-utils.h:
	* src/fr-process.c:
	* src/fr-archive.c:
	* src/fr-command-*.c:
	* src/main.c:
	* src/dlg-batch-add.c:
	* src/bookmarks.c:

	moved some functions to glib-utils.c; added a debug function to get rid
	of too many #ifdefs.

2005-12-09  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-process.c (REFRESH_RATE): set to 20

	* src/fr-command-zip.c (add_password_arg):
	* src/fr-command-rar.c (add_password_arg): escape other special
	characters as well.

	Fixes bug #323534: Passwords improperly escaped for zip files

2005-12-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.h:
	* src/window.c (open_progress_dialog): do not open a progress dialog
	when dragging files, use a progressbar in the statusbar instead.

	* src/fr-command-tar.c (process_line__generic):
	* src/fr-command-zip.c (process_line__common): use n_files+1 to avoid
	a 100% progress bar when the operation is not finished yet.

2005-12-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* configure.in: fixed library name

	Fixed bug #316364: Nautilus dependency should be optional

	* src/window.c (_window_sort_file_list, window_new)
	(open_progress_dialog): use Archive instead of Name in the progress
	dialog.

	Fixed bug #311821: ascending and descending indicators are opposite
	from expected.  Removed the default sort function.

	* data/glade/file-roller-extract.glade:

	Fixed bug #317423: Conflicting mnemonic in "Extract" dialog.

	* src/dlg-extract.c (extract_cb):

	Fixed bug #323068: file-roller fails in chosing extract-to directory

	* src/actions.c (is_supported_extension, get_full_path)
	(new_file_response_cb, filetype_combobox_changed_cb):

	Fixed bug #322197: Improve Naming Filename when create new Archive file

2005-11-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* nautilus/nautilus-fileroller.c:
	* data/file-roller.mime:
	* data/file-roller.keys:
	* data/file-roller.desktop.in: fixed 7zip mime type.

	* src/fr-command-*.c:
	* src/fr-archive.c (fr_archive_load): make archive read only is zip
	is not present.

	* src/fr-command-zip.c (fr_command_zip_new):

	Fixed bug #316564: needs unzip AND zip.

	* src/window.c: set HIDE_PROGRESS_TIMEOUT_MSECS to 500

	* src/dlg-add-folder.c (add_folder_cb): remove unused var.

	* src/typedefs.h:
	* src/main.h:
	* src/main.c:
	* src/actions.c (is_supported_extension):
	* src/dlg-batch-add.c:
	* data/glade/file-roller.glade:

	Simplify the add dialog populating the file type combobox with the
	extensions instead of the descriptions.

2005-11-26  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (_action_started): init the message.

2005-11-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-add-folder.c (add_folder_cb): moved "include files" and
	"exclude files" to the bottom.


	* src/fr-command-tar.c (process_line__generic): remove the path
	from the filename.

	* src/window.c (open_progress_dialog): use a Cancel button in
	the progress dialog.

	* src/recent-files/*:

	Updated from libegg.

	* src/window.h:
	* src/window.c:
	* src/fr-archive.h:
	* src/fr-archive.c (MAX_CHUNK_LEN): use NCARGS * 2 / 3 as max command
	line length.
	(fr_archive_add_items): new function.
	(fr_archive_set_add_is_stoppable_func): new function.
	* src/file-utils.h (strcmp_null_tollerant):
	* src/file-utils.c (strcmp_null_tollerant): new function.
	* src/file-list.h:
	* src/file-list.c (visit_dir_async)
	(get_directory_file_list_async):
	* src/dlg-add-files.c:

	Set progress dialog display delay to 1 second.  More HIG compliant
	progress dialog.  Use a single command execution to add many files
	and folders to an archive.  Allow to stop creation of a new archive.

	* src/fr-command.h: added FR_ACTION_NONE and FR_ACTION_SAVE.

	* src/fr-command-tar.h:
	* src/fr-command-tar.c (process_line__generic):

	Emit the MESSAGE signal	every ACTIVITY_DELAY msecs instead of emitting
	it for every output line.

	* data/glade/file-roller-extract.glade: Fixed dialog border size.

2005-11-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c (strcmp_null_tollerant): new function
	* src/window.c (open_progress_dialog): use PANGO_ELLIPSIZE_LEFT
	instead of PANGO_ELLIPSIZE_MIDDLE.

2005-11-14  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* component/*: removed files from CVS too.

2005-11-02  Christopher Aillon  <caillon@redhat.com>

	* data/file-roller.desktop.in (MimeType): Add 7zip

2005-10-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.13.1 released ]

	* Makefile.am:
	* configure.in:
	* component/*:

	Removed bonobo component.

	* src/file-data.h:
	* src/fr-command-zoo.c (process_zoo_line):
	* src/fr-command-zip.c (list__process_line):
	* src/fr-command-unstuff.c (process_line):
	* src/fr-command-tar.c (process_line):
	* src/fr-command-rpm.c (list__process_line):
	* src/fr-command-rar.c (process_line):
	* src/fr-command-lha.c (process_line):
	* src/fr-command-iso.c (list__process_line):
	* src/fr-command-cfile.c (list__process_line):
	* src/fr-command-arj.c (list__process_line):
	* src/fr-command-ar.c (process_line):
	* src/fr-command-7z.c (list__process_line):

	Fixes bug #319600: compilation under AIX 5.1 aborts with ".atoll
	not found".

2005-10-23  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (fr_command_tar_escape): escape $

	Fixes bug #319343: file-roller won't let me delete files from an
	archive which contain a dollar sign ($)

2005-10-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.12.1 released ]

2005-09-24  Erdal Ronahi  <erdal.ronahi@gmail.com>

	* configure.in: Added ku (Kurdish) to ALL_LINGUAS

2005-09-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.12.0 released ]

2005-08-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.11.92 released ]

	* NEWS:
	* configure.in: updated for 2.11.92

2005-08-17  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (file_list_drag_data_get): use
	gtk_selection_data_set_uris to set the contents os the selection.
	(window_drag_data_received): Do not allow DnD on the same window.
	(get_file_list_from_uri_list): convert file: uris to local path.

2005-08-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.11.91 released ]

	* NEWS:
	* configure.in: update for version 2.11.91

2005-08-05  Sunil Mohan Adapa  <sunil@atc.tcs.co.in>

	* configure.in: Added "te" to ALL_LINGUAS.

2005-08-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-iso.c (fr_command_iso_extract): unescape the directory
	name before using it.

	Fixes bug #311437: [breezy] can't extract a filename from a directory
	with a space in it from ISO.

	* src/file-utils.c (ensure_dir_exists):

	Use gnome_vfs_make_directory instead of mkdir

	* src/file-utils.c (unescape_str): new function.

	* configure.in:
	* Makefile.am:
	* .cvsignore:

	Ported the help documents to gnome-doc-utils.

2005-08-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (get_supported_archive_types):

	Fixes bug #312243: wrong zoo and 7-zip extensions.
	Patch by Claudio Bley.

	* src/fr-command-rar.c (fr_command_rar_add)
	(fr_command_rar_extract, fr_command_rar_test):

	Fixes bug #312240: escape sequences in rar output.
	Patch by Claudio Bley.

	* src/fr-archive.c (fr_archive_extract): removed a blank line.

	* src/fr-process.c (process_output, process_error): read output till
	the EOF is reached.
	* src/gtk-utils.c (_gtk_error_dialog_new): use a shadow for the output
	textarea.

	Fixes bug #312246: FR does not read all pending output.
	Patch by Claudio Bley.

2005-07-25  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.11.90 released ]

	* configure.in:
	* NEWS: updated for 2.11.90

	* src/fr-command-7z.c:  Applied second patch from bug report #310015.

2005-07-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.h:
	* src/window.c:

	Fixed bug #105521: single click: list view should have mouse-over.

2005-07-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-7z.c (list__process_line):
	* src/fr-command-rar.c (process_line):

	Fixes bug #310015: crash when listing 7-zip archive with 7za 4.x
	Patch by  Claudio Bley.

2005-07-01  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.11.2 released ]

2005-06-26  Ignacio Casal Quinteiro  <nacho.resa@gmail.com>

	* configure.in: Added 'gl' to ALL_LINGUAS.

2005-06-26  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* data/glade/file-roller.glade

	Properties dialog: align labels to left, allow window resizing,
	ellipsize filename and path labels.

	* src/ui.h:
	* src/actions.c
	* src/actions.h
	* src/window.c
	* src/window.h

	Removed copy/move/rename/delete archive commands.  Put the recent files
	items in the main menu instead of using a submenu.

	* src/recent-files/*: updated from libegg.

2005-06-19  Fabio Bonelli <fbonelli@gmail.com>

	* src/file-data.h:

	long int size -> long long size

	* src/fr-command-7z.c (list__process_line):
	* src/fr-command-ar.c (process_line):
	* src/fr-command-arj.c (list__process_line):
	* src/fr-command-cfile.c (list__process_line):
	* src/fr-command-iso.c (list__process_line):
	* src/fr-command-lha.c (process_line):
	* src/fr-command-rar.c (process_line):
	* src/fr-command-rpm.c (list__process_line):
	* src/fr-command-tar.c (process_line):
	* src/fr-command-zip.c (list__process_line):
	* src/fr-command-zoo.c (process_line):

	s/atol/atoll/

	Fixes bug #142860: File-roller displays files larger
	than 2GB as 2GB.

2005-05-17  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* .cvsignore: addef *.diff files

2005-05-17  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.11.1 released ]

2005-04-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* nautilus/nautilus-fileroller.c:
	(extract_here_callback):

	Do not create a _FILES folder.  Bug #167261: "Extract Here"
	(Nautilus integration) not useful anymore (regression!)

	* src/window.c:
	* src/main.c:

	Allow to extract more archives at once.  Added a --extract-here
	command line option.

	* src/fr-archive.c (fr_archive_load): disconnect the signals
	callbacks before unreferencing the object.

	* data/glade/file-roller.glade: center 'create archive' window.

	* src/main.c (main): removed local pctx.

	Fixed bug #162729: File Roller doesn't exit cleanly on invalid
	archive extension.

	* src/dlg-prop.c (dlg_prop):
	* src/dlg-batch-add.c (add_clicked_cb):
	* src/dlg-add-folder.c (selection_changed_cb)
	(file_sel_response_cb):
	* src/dlg-add-files.c (selection_changed_cb)
	(file_sel_response_cb):
	* src/window.c:

	Use g_filename_display_name and g_filename_display_basename.

	* src/fr-command-zip.c (process_line__common):
	* src/fr-process.c (process_error, process_output):

	removed useless hacks.

	* src/window.c (window_message_cb): ensure the string is not NULL.

	Fixes bug #164894: crash on zip with incorrect filenames

2005-04-17  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (activate_action_about):
	s/translator_credits/translator-credits/

	Fixes bug #300956: Please use a hyphen instead of an underscore, i.e
	"translator-credits".

	* src/fr-command-tar.c (begin_tar_command):

	Fixed bug #300895: Invalid read reported by valgrind.
	Patch by Kjartan Maraas.

2005-04-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-process.c (process_error, process_output): create a temp
	variable t store the current line.
	(process_output, process_error): Attemp to fix bug #164894.

2005-04-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_rename_selection): do not ask anything,
	simply suggest to use a different name.
	(name_is_present): split the string to reuse an already present
	phrase.  Allow the user to retype the name if an error occurs.

	Fixed bug #168287: Rename file in archive can overwrite other
	existing files.

	* data/glade/file-roller-extract.glade:

	Fixed bugs #300763 Non-English string? and #300764: String mismarked
	for translation?

	* src/window.c:
	* src/ui.h:
	* src/preferences.c:
	* src/main.c:
	* src/gconf-utils.c:
	* src/fr-command-zip.c:
	* src/fr-command-tar.c:
	* src/fr-command-rpm.c:
	* src/fr-command-iso.c:
	* src/fr-command-7z.c:
	* src/fr-archive.c:
	* src/file-utils.c:
	* src/file-data.c:
	* src/dlg-prop.c:
	* src/dlg-password.c:
	* src/dlg-open-with.c:
	* src/dlg-extract.c:
	* src/dlg-delete.c:
	* src/dlg-add-folder.c:
	* src/dlg-batch-add.c:
	* src/dlg-add-files.c:
	* src/actions.c:

	Fixes bug #171618: header cleanup.  Patch by Kristof Vansant.

2005-04-06  Alan Horkan <horkana@tcd.ie>

	* src/ui.h: Be nice to translators, allow stock labels
	(and keybindings where appropriate) to show through.
	Should make translation work a little less painful.

	Fixes bug #172867: allow stock labels to show through, be nice to
	translators

2005-04-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-add-files.c (GLADE_FILE):
	* src/dlg-add-folder.c (GLADE_FILE, save_options_cb): restore
	the selected folder.

	* src/dlg-prop.c (PROP_GLADE_FILE):
	* src/dlg-password.c (PROP_GLADE_FILE):
	* src/dlg-open-with.c (GLADE_FILE):
	* src/dlg-delete.c (EXTRACT_GLADE_FILE):
	* src/dlg-batch-add.c (GLADE_FILE):

	rename file_roller.glade to file-roller.glade

	* configure.in: set version to 2.11.0

2005-04-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-rar.c (fr_command_rar_new): && instead of ||

	[ File Roller 2.10.2 released ]

	* src/fr-command-cfile.c (get_uncompressed_name_from_archive): use
	only the filename.
	(get_uncompressed_name_from_archive): check whether the FNAME
	flag is set.

	Fixes bug #300238: Unable to gunzip "gzip'd ubuntu mail archives".

2005-03-31  Steve Murphy  <murf@e-tools.com>

	* configure.in: Added "rw" to ALL_LINGUAS.

2005-03-31  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (recent_gtk_set_tooltip): Free the tooltip.

	Patch by Kjartan Maraas.

2005-03-31  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.10.1 released ]

2005-03-31  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.h:
	* src/window.c (_window_update_sensitivity):

	Fixed bug #172219: Select All and Deselect all doesnt work properly.

	* src/recent-files/egg-recent-view-uimanager.c
	(egg_recent_view_uimanager_clear):
	call gtk_ui_manager_ensure_update after removing the action group.

	* src/window.c (window_open_files__extract_done_cb): show an error
	dialog if an error occurred.

	* src/gtk-utils.h:
	* src/gtk-utils.c (_gtk_error_dialog_run): new function

2005-03-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/recent-files/egg-recent-view-uimanager.c: Applied patch by
	 David A Knight, see bug #141667.

	* src/fr-command-tar.c (begin_tar_command): free temp after use.

2005-03-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/recent-files/egg-recent-view-uimanager.c
	(egg_recent_view_uimanager_set_list): ref the item after adding it to
	the list.

2005-03-22  Madhan Raj	<raj_madan@rediffmail.com>

	* src/file-list.c (get_directory_file_list_async): Do not concatenate
	/ to the root dir.
	(get_directory_file_list_cb): base_len be zero for root dir.

	Fixes bug #171195: File-Roller will not tar up any subdirectories
	directly under /

2005-03-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_new): Fixed bug #170842: Toolbar buttons too
	wide.

2005-03-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (activate_action_about): updated copyright to 2005

	* src/window.c (add_columns): added ellipsize property to the
	columns.

2005-03-14  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (progress_dialog_delete_event): return TRUE

	Fixes bug #170329: Aborting File Add can sometimes crash the
	application.

	* src/window.c (window_open_files__extract_done_cb): store command
	data to remove the temp dir before exiting.

	* src/window.c (window_open_files__extract_done_cb)
	(window_open_files_common): do not escape filenames with
	gnome_vfs_mime_application_launch.

	Fixes bug #170258: file-roller can't open for preview files with a
	white space in filename.

2005-03-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* nautilus/nautilus-fileroller.c (nautilus_fr_get_file_items):

	Fixed bug #169818: Archive menu item to be disabled if no files are
	selected.

	* src/window.c (file_button_release_cb, file_button_press_cb):

	do not activate the first row after reordering the list in single
	click mode.

2005-03-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.10.0 released ]

	* src/window.c (file_button_press_cb, file_button_release_cb):

	Added a fix in a comment.  To be uncommented when the code freeze is
	over.

2005-02-28  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.9.92 released ]

2005-02-28  Maxim V. Dziumanenko <mvd@mylinux.com.ua>

	* help/uk/file-roller-uk.omf:
	* help/uk/file-roller.xml:
	* help/uk/uk.po:
	* help/uk/figures/file-roller_home.png:
	* help/uk/figures/file-roller_leftarrow.png:
	* help/uk/figures/file-roller_main_window.png:
	* help/uk/figures/file-roller_rightarrow.png:
	* help/uk/figures/file-roller_uparrow.png:

	Updated Ukrainian translation of the manual.

2005-02-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (activate_action_new):

	Fixes bug #157698: Default new archive name as the first-added object.

	* src/fr-command-iso.c (list__process_line): fix line parsing.
	(fr_command_iso_list, fr_command_iso_extract): do not use -J -R
	options.
	(fr_command_iso_handle_error): read iso files without Joliet info.

	Fixes bug #144953: ISO reading assumes Joliet and Rock Ridge
	extensions.

2005-02-26  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (display_progress_dialog): use gtk_widget_show instead of
	gtk_window_present.

	Fixes bug #168477: Create Archive should leave status window in the
	background while creating multiple folder archives.

2005-02-23  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* file-roller/src/gtk-utils.c:
	* file-roller/src/main.c:
	* file-roller/src/window.c:

	Use "Archive Manager" instead of "File Roller".

2005-02-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/Makefile.am:
	* src/mkdtemp.c:
	* src/mkdtemp.h:
	* configure.in:

	Fixes bug #159952: file-roller compilation error.
	Patch by Sandie Vanderme.

	* src/main.c:
	* src/main.h:
	* src/file-utils.c (is_program_in_path): added a cache to store
	utilities presence.

	* src/actions.c (get_supported_archive_types): use is_program_in_path
	instead of g_find_program_in_path.

2005-02-17  Adi Attar  <aattar@cvs.gnome.org>

	* configure.in: Added "xh" to ALL_LINGUAS.

2005-02-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/main.c:
	* src/fr-command-zoo.c:
	* src/fr-command-zip.c:
	* src/fr-command-unstuff.c:
	* src/fr-command-tar.c:
	* src/fr-command-rpm.c:
	* src/fr-command-rar.c:
	* src/fr-command-lha.c:
	* src/fr-command-iso.c:
	* src/fr-command-cfile.c:
	* src/fr-command-arj.c:
	* src/fr-command-ar.c:
	* src/fr-command-7z.c:
	* src/fr-archive.c:
	* src/file-utils.h:
	* src/file-utils.c:
	* src/actions.c:

	Applied patch to fix bug #166658: Archives should only be processed
	if command-line utility is present.
	Patch by Laszlo Kovacs <Laszlo.Kovacs@Sun.COM>

2005-02-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.9.91 released ]

2005-02-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/recent-files/*: updated from libegg

2005-01-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.9.4 released ]

	* NEWS:
	* configure.in: updated for 2.9.4

2005-01-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c: fixed dnd when in single click mode.

	* src/window.c (window_new, is_single_click_policy, add_columns)
	(file_button_press_cb):

	* src/window.h:
	* src/main.c (initialize_data):
	* src/preferences.h (PREF_NAUTILUS_CLICK_POLICY):

	Fixed bug #100927: should use GNOME mouse click settings.

2005-01-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.9.3 released ]

2004-12-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c: use "text/uri-list" only as dnd target type.

	Fixes bug #162324: Cannot drag files from gthumb to file-roller

2004-12-25  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-rar.c (process_line):

	Fixes bug #162188: RAR archives' directories are not recognized properly

2004-12-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_new):

	Fixed bug #132555: file-roller does not honor system-wide toolbar
	setting.

2004-12-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.9.2 released ]

2004-12-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-rar.c (process_line): ignore directories.

2004-12-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (_action_started):

	Fixed bug #152129: Unnecessary call to _window_update_sensitivity()

	* src/fr-archive.c (create_command_from_filename):

	Fixed bug #154821: file-roller can't open archives with extension .lha
	Patch by Volker Weber.

	* src/file-utils.c:
	* src/file-utils.h:

	Fixed bug #154398: Remove some useless code.

	* src/window.c (load_icon_file):

	Fixed bug #154233: load_icon_file optimization.

	* file-roller.desktop.in (MimeType): added war and ear.

2004-12-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (mktime_from_string):

	Fixes bug #161141: Time of modifcation incorrect

	* src/dlg-add-folder.c (file_sel_response_cb): add always the folder
	to the archive.

	* src/window.c (window_set_toolbar_visibility)
	(window_set_statusbar_visibility):

	Fixes bug #161147: View->Toolbars inconsistent across multiple instance.

2004-12-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* nautilus/fileroller-module.c (nautilus_module_initialize): bind
	text domain here.

2004-12-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command.c: removed unused function.

	* src/fr-archive.h:
	* src/window.h:
	* src/window.c (window_archive__open_add):
	* src/fr-archive.c (create_command_from_filename):
	* src/dlg-batch-add.c (add_clicked_cb):
	* src/fr-command-cfile.c (fr_command_cfile_add): Added ability to
	create compressed files from the Nautilus context menu command.

	Fixed bug #160617: "Create archive" context menu item does not support
	single-file bz2 or gz

	* src/file_roller.glade:
	* src/dlg-batch-add.c (dlg_batch_add_files): Added ability to select a
	destination folder.

	Fixed bug #160401: create archive doesn't work on read-only CD-ROM

	* src/file-utils.c (check_permissions): new function.

2004-12-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command.c (fr_command_list):

	Do not emit start/done signals here.

	* nautilus/nautilus-fileroller.c:

	Use 'extract to...' if the archive location is write only.
	Added more mime types.


2004-12-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c: removed ephy_ellipsized_label and use gtk_label.

	* nautilus/nautilus-fileroller.c (add_callback):
	(nautilus_fr_get_file_items): removed code used for debugging.

2004-12-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* nautilus/*:
	* configure.in:

	Started fixing bug #160221: No more "extract here" entry in Nautilus
	context menu.

2004-11-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* configure.in: requires gnome-vfs 2.9.0 now.

	Fixes bug #159906: the configure.in should update its gnome-vfs
	requirement.

2004-11-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.9.1 released ]

2004-11-24  Dennis Cranston <dennis_cranston@yahoo.com>

	* src/actions.c: (activiate_action_about):  Fix logo icon to
	use the theme icon.

2004-11-25  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c:
	* src/dlg-open-with.c (dlg_open_with):
	* src/window.c (window_open_files__extract_done_cb):

	Fixed bug #159464: Should not use deprecate mime API

2004-11-24  Dennis Cranston <dennis_cranston@yahoo.com>

	* src/main.c: (initialize_data):  Set window icon with
	gtk_window_set_default_icon_name () to use the theme icon.

2004-11-23  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c:
	* src/dlg-extract.c:
	* src/dlg-add-folder.c:

	Fixes bug #159172: tooltips leaked.  Patch by Paolo Borelli.

2004-11-24  Dennis Cranston <dennis_cranston@yahoo.com>

	* src/main.c: (initialize_data):  Set window icon with
	gtk_window_set_default_icon_name () to use the theme icon.

2004-11-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c (split_line, eat_spaces, get_last_field):

	Added more checks on NULL pointers.

2004-11-10  Claudio Bley  <octothorpe@gmx.de>

	* src/fr-command-rar.c (process_line): fixed file name processing;
	first char should be ignored, rest of the line is the file
	name, if the first char == '*' the file is encrypted
	(add_password_arg, fr_command_rar_test): new functions
	(fr_command_rar_list, fr_command_rar_add, fr_command_rar_extract):
	added rar password support.
	(fr_command_rar_class_init, fr_command_rar_init): enabled password
	support and testing of archives.

2004-11-09  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (activate_action_about): use the GtkAboutDialog.
	(activate_action_about): use show instead of show_all

2004-11-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* configure.in: updated required gtk version.

	* src/ui.h:
	* src/window.c:
	* src/window.h:

	Added a 'Open Recent' menu item on the toolbar.

2004-11-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* help/*: Fixed bug #145162] .omf.out and omf_timestamp files should
	not be in cvs.

2004-11-01  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.9.0 released ]

2004-10-28  Marco Pesenti Gritti  <marco@gnome.org>

	reviewed by: Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c: (_window_update_title):

	Use "Archive Manager" as window title
	Fix #156674

2004-10-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-7z.c (fr_command_7z_begin_command):

	prefer the '7za' command over '7z'

2004-10-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (create_command_from_filename): use fr_command_ar
	for .ar files.  Do not let creation of .deb archives.

	* src/dlg-batch-add.c (add_clicked_cb): check *archive_name not
	archive_name as suggested by Santhosh Hiriyur Shankar.

2004-10-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* file-roller.keys:
	* file-roller.applications:
	* file-roller.mime:
	* src/fr-archive.c:
	* src/fr-command-7z.h:
	* src/fr-command-7z.c:
	(mktime_from_string): fixed date computation.

	Added 7-zip archive support.

2004-10-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* file-roller.mime: added 7-zip mime type

2004-10-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file_roller.glade:
	* src/dlg-extract.c (create_extra_widget):

	make the text invisivle for the password entries (#155728).

2004-10-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* configure.in: check libraries version.

2004-10-05  James Henstridge  <james@jamesh.id.au>

	* src/window.h: trivial build fix: remove a stray "c" on a line.

2004-09-28  Christopher Aillon  <caillon@cvs.gnome.org>

	* file-roller.desktop.in: use %F in Exec to avoid opening
	remote files in nautilus.

2004-09-28  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (IGNORE_CASE): set to FALSE

2004-09-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c: open the "open with" dialog if the file type does not
	have a registered application; get rid of the internal viewer.

	Fixes bug #153837: Internal viewer vs. other application question is
	asked for files that internal viewer can't even handle.

2004-09-26  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (fr_command_tar_escape): another attept to fix
	escaping.  Bug #153003

2004-09-25  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/ui.h: remove Select All/Deselect All from the context menu.

2004-09-25  Pawan Chitrakar  <pawan@nplinux.org>

	* configure.in: Added ne "Nepali" in ALL_LINGUAS

2004-09-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c (application_get_command): do not escape spaces
	here.

	* src/window.c (window_new, update_file_list_idle, window_new): added
	deb and ar to the recent file type list.
	(window_view_or_open_file): get the default application istead of
	the default action.
	(view_file):  if we are here it's better to use the internal viewer.

	* src/window.h: restore the timeout correctly. remove the
	empty_store gtk list store.

	* src/file-utils.c (strchrs): check *c not c

	* src/file_roller.glade:
	* src/dlg-batch-add.c (dlg_batch_add_files): make the WM give
	focus to the 'create archive' dialog.
	(add_clicked_cb): check whether to user entered a valid archive name.

	Fixes bug #147137: nautilus context menu 'create archive' doesn't
	accept absolute paths.

	* src/file-utils.h:
	* src/file-utils.c (escape_str_common):
	(strchrs): new functions

	* src/fr-command-tar.c (fr_command_tar_escape):

	attempt to fix bug #153003: Does not properly extract files with
	special characters in their filenames from .tar.gz files

2004-09-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (last_output_window__unrealize_cb)
	(window_view_last_output):

	Save and restore the 'Last output' dialog size.

	* src/fr-archive.c (MAX_CHUNK_LEN): setted to NCARGS as suggested
	by Sebastien Bacher (see bug #153002)

	* src/window.c (default_sort_func): return 0 instead of 1

	Fixes bug #151113  - crash trying to open zip file for extraction
	Patch by ed AT catmur.co.uk

2004-09-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (update_file_list_idle): remove and restore the
	timeout handle each time.

	* src/file-utils.c (shell_escape): remove = and - from the characters
	to escape.

2004-09-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/preferences.h (PREF_DESKTOP_MENUBAR_DETACHABLE): fixed typo.

	* src/dlg-viewer.c (dlg_viewer):
	* src/preferences.c (pref_util_restore_window_geometry)
	(pref_util_save_window_geometry): new functions.

	Save and restore the viewer dialog size.

	* file-roller.mime: Fixed bug #152160: MIME type conflicts with
	freedesktop.org

	* src/fr-archive.c (NO_DOT_FILES, NO_BACKUP_FILES):
	* src/file-list.c (get_directory_file_list_async):

	Fixed bug #153002: By adding directory to archive using file-roller,
	hidden files do not get added.

	* src/fr-command-tar.c:
	* src/fr-archive.c:
	* src/fr-command.c:
	* src/fr-command.h:
	* src/fr-command-zip.c (fr_command_zip_add):

	Fixed bug #153003: file-roller: Does not properly extract files with
	special characters in their filenames from .tar.gz files

2004-09-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-ar.h:
	* src/fr-command-ar.c: new files
	* src/actions.c:
	* src/fr-archive.c:

	Added AR/Debian archives support. (bug #152994: support for deb files)

	* configure.in: changed version number to 2.9.0, updated requirements.

2004-09-16  Kaushal Kumar  <kaushal.kumar@wipro.com>

	* src/window.c (get_file_list_from_url_list): Handle multiple
	drag and drop correctly. Accept all valid urls and ignore the
	invalid ones. Fixes bug #152900.

2004-09-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.8.0 released ]

2004-08-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-add-folder.c (add_folder_cb): set 'include subfolders'
	active by default.

2004-08-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.5 released ]

2004-08-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command.h (struct _FRCommand): s/uint/guint/

	Fixes bug #151427

2004-08-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (_window_history_add): Add locations visited using the
	back button to the history list.

	Fixed bug #150672: Back button is broken

2004-08-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (fr_archive_extract):
	* src/window.c (window_open_files):
	* src/fr-command-unstuff.c (fr_command_unstuff_list):
	* src/file-utils.c (get_temp_work_dir_name, get_temp_work_dir):

	Fixed bug #150329: File roller creates predictable /tmp directories

2004-08-17  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-extract.c (file_sel_response_cb):
	* src/actions.c (new_file_response_cb, open_file_response_cb)
	(save_file_response_cb, copy_or_move_archive_response_cb):

	Check for GTK_RESPONSE_DELETE_EVENT

	* src/dlg-add-files.c:
	* src/dlg-add-folder.c: Fixed bug #150327 and other issues.

2004-08-17  Subrahmanyam Madduri <smadduri@novell.com>

	* src/window.c: avoids crashing while DND of 'Home' icon into
	file-roller.

	Fixes BUG #150328

2004-08-17  Mark McLoughlin  <mark@skynet.ie>

	* src/recent-files/egg-recent-item.c,
	  src/recent-files/egg-recent-view-gtk.c,
	  src/recent-files/egg-recent.h, sync with latest
	libegg.

2004-08-16  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "bs" to ALL_LINGUAS.

2004-08-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.4 released ]

2004-08-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/recent-files/*: updated from libegg.

	* file-roller.desktop.in (MimeType): added other mime types.

2004-08-16  Gurban M. Tewekgeli  <gmtavakkoli@yahoo.com>

	* po/tk.po: Added Turkmen translation.
	* configure.in: Added "tk" to ALL_LINGUAS.

2004-08-16  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added nb to ALL_LINGUAS.

2004-08-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.3 released ]

2004-07-22  Ross Golder  <ross@golder.org>

	* help/??/Makefile.in: Removed from CVS as it is autogenerated
	from Makefile.am by automake.

2004-07-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* file-roller.desktop.in (MimeType): added supported mime types

2004-07-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.2 released ]

2004-07-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (begin_tar_command): fixed
	bug #144041: [Solaris] gtar will not be in path

	* src/window.c (open_progress_dialog): do no specify a parent
	window in batch mode.
	(handle_errors):
	Do not display the "operation stopped" dialog (bug #144171).

	* src/main.c (prepare_app): do not show the main window in batch
	mode.

2004-07-05  Kaushal Kumar  <kaushal.kumar.wipro.com>

	* src/dlg-add-folder.c (file_sel_response_cb): Fixed a leak and the
	display of the error message.  Fixes bug #145440.

2004-07-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.1 released ]

2004-07-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file_roller.glade: Set the type-hint to utility for the add
	files dialog.

	* src/window.c (window_batch_mode_start): Hide the main window
	when in batch mode.
	(display_progress_dialog): Do no display the main window if in batch
	mode.

2004-06-23  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-iso.c (fr_command_iso_init):
	* src/fr-command.h (struct _FRCommand):
	* src/fr-command.c (fr_command_init):
	* src/fr-archive.c (fr_archive_extract): allow isoinfo to extract
	all the files.

2004-06-16  Vinay M R  <vinay.mandyakoppal@wipro.com>

	* src/main.c: (save_session), (load_session): Make file-roller
	session aware even when no archive is opened. Fixes bug #144455.

2004-06-15  Bastien Nocera  <hadess@hadess.net>

	* src/fr-archive.c: (find_file_in_archive): avoid crashes if there
	are bugs in some extractor

2004-06-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (activate_action_open): added a comma before
	"application/x-cd-image".

	Fixes bug #144079 (iso is not listed as a archive in open dialog)

2004-05-31  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.0 released ]

2004-05-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* AUTHORS:
	* src/actions.c (activate_action_about): updated email address

	* src/window.c (display_progress_dialog): call gtk_widget_present
	on the main window before displaying the progress dialog.

	* src/fr-archive.c:
	* src/actions.c:
	* src/Makefile.am:
	* component/File_Roller_Component.server.in.in:
	* src/fr-command-iso.h:
	* src/fr-command-iso.c:

	Added ISO images support, bug #142316

	Patch by Daniel Brodie (daniel@brodienet.com)

2004-05-19  Paolo Bacchilega  <paolo@localhost.localdomain>

	* src/window.c (window_batch_mode_start): do not hide the main
	window in batch mode, this confuses the WM.

2004-05-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c:
	* src/actions.h:
	* src/ui.h:
	* src/recent-files/egg-recent-view-uimanager.c:
	* src/recent-files/egg-recent-view-uimanager.h: new files
	* src/window.c:

	Use the Gtk + UI Manager to handle the menubar and the toolbar.

2004-04-21  Bastien Nocera  <hadess@hadess.net>

	* src/fr-command-cfile.c: (get_uncompressed_name_from_archive),
	(list__process_line), (fr_command_cfile_extract):
	for gzip compressed files, use the name saved in the archive header
	in place instead of guessing from the filename if the archive header
	is available

2004-04-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-batch-add.c (add_clicked_cb):
	* src/dlg-extract.c (dlg_extract):
	* src/menu-callbacks.c (manual_cb):
	* src/window.c (window_rename_selection):
	* src/dlg-add-files.c (add_files_cb):
	* src/dlg-add-folder.c (add_folder_cb):

	Fixes bug #139502: The Dialog Boxes do not have a default action.
	Patch by sri_nathc AT yahoo DOT com

2004-04-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-prop.c (dlg_prop): display the compression ratio as a number
	not as a percentage.

2004-04-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file_roller.glade:
	* src/dlg-prop.c (dlg_prop): Added compression ratio and content size.

	* src/Makefile.am (glade_DATA): Removed file_roller_prop.glade

	* src/window.h:
	* src/window.c (window_archive_extract):
	* src/fr-archive.h:
	* src/fr-archive.c (compute_base_path, compute_list_base_path)
	(fr_archive_extract):

	Fixed bug 140971: Unwanted behavior of File-Roller on reconstructing
	directories.

2004-04-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-add-folder.c:
	* src/dlg-add-files.c: new files.

	* src/window.c (window_new): use FILE_POPUP_MENU_SIZE instead of
	a constant.

	* src/window.h: the popup menu has 15 entries now.

	* src/menu.h: do not set to 0 the second entry.

2004-04-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-add.c (aod_apply_cb, save_options_cb): remember the last
	used options and use the name as the default value when saving
	the options.

	* src/file-list.c (get_directory_file_list_cb)
	(get_wildcard_file_list_cb):
	* src/window.c (_window_get_current_dir_list):
	(_window_add_to_recent_list): use the function path_in_path.

	* src/file-utils.c (path_in_path): new function.

2004-04-09  Guntupalli Karunakar  <karunakar@freedomink.org>

	* configure.in: Added "gu" (Gujarati) to ALL_LINGUAS.

2004-04-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* file-roller.applications:

	Fixes bug #135301: Update .applications to match shared-mime-info.

	* src/window.c (get_time_string):

	Fixes bug #136506: Mark date specifier for translation.

	* src/main.c (prepare_app): check whether extract_to != NULL

2004-03-13  Shakti Sen <shprasad@novell.com>

	* src/main.c (prepare_app): Creating an absolute path for
	file extraction from command line.

	Fixes bug #136570.

2004-04-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-roller.schemas: recreate the folders by default.

	Fix bug #138484: Option "Re-Create Folders" should be true by default.

	* src/window.c (window_paste_selection):
	(rename_selection): Escape names.

	Fix bug #138697: File-roller fails to properly handle filenames
	containing whitespace.

2004-03-30  Adam Weinberger  <adamw@gnome.org>

	* configure.in: Added en_CA (Canadian English) to ALL_LINGUAS.

2004-03-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_new, window_archive_open)
	(_window_remove_from_recent_list, _action_performed):

	Remove a file from the recent file list if the file could not be
	loaded.

	Add RPM and Suffit to the recent file list mime types.

	* component/file-roller-component.c (impl_Bonobo_Listener_event):
	check whether cmd_option != NULL before adding to the command line.

	* src/menu-callbacks.c (new_archive): Pass the add_after_creation
	options to the new window.

	* src/window.c (window_drag_data_received): check whether the archive
	can be modified before accepting the drop.
	(get_icon): init variables to NULL.

	Fix bug #138154 (File-Roller Crash when dropping a file dragged from
	archive).

	* src/fr-command-tar.c (tar_get_last_field): new function.
	(process_line): use the above function to read the filename.

	Fix reading of filenames with spaces.

2004-03-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.6.0 released ]

2004-03-22  Guntupalli Karunakar  <karunakar@freedomink.org>

	* configure.in: Added "pa" (Punjabi) to ALL_LINGUAS.

2004-03-17  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-03-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.5.7 released ]

	* src/fr-command-tar.c (process_line): use
	"%n%n%n%n-%n%n-%n%n %n%n:%n%n" instead of
	"%n%n%n%n-%n%n-%n%n %n%n:%n%n:%n%n".

	Fix bug #137183 (Crash when opening tar-file when using 24 hour time
	format).

2004-03-15  Glynn Foster  <glynn.foster@sun.com>

	* configure.in: Add localized online help.
	* help/Makefile.am: Add to build.
	* help/*: Add localized online user help for
	de, es, fr, it, ja, ko, sv, zh_TW, zh_HK, zh_CN

2004-03-11  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated for bug 135863
	* help/C/file-roller-C.omf: updated manual date and version numbers
	* help/C/l10n.txt: updated manual date and version number

2004-03-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.5.6 released ]

2004-03-07  Danilo Šegan  <dsegan@gmx.net>

	* configure.in: Added "sr@ije" to ALL_LINGUAS.

2004-03-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_close): remove the recent view and the
	notifications as soon as possible.

	* component/File_Roller_Component.server.in.in:
	* file-roller.desktop.in:
	* src/dlg-batch-add.c (load_icon_file):
	* src/dlg-prop.c (dlg_prop):
	* src/file_roller.glade:

	Fix bug #135863 ("Zip" unfortunate terminology in file-roller).

2004-03-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/menu-callbacks.c (save_as_archive_cb, new_archive_cb): use the
	new combo_box widget instead of the old option_menu.
	(new_archive_cb, save_as_archive_cb, open_archive_cb):
	(copy_or_move_archive): set the window parent.

2004-03-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/menu-callbacks.c (new_archive_cb): use
	ACTION_SAVE | CREATE_FOLDER action

	* src/dlg-extract.c (dlg_extract): use the SELECT_FOLDER action

2004-02-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (_match_pattern, get_index_from_pattern)
	(get_next_field, get_prev_field): new functions.
	(process_line): use a better logic to parse the tar output.

2004-02-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (copy_or_move_archive):
	remove ..._set_folder_mode.

Fri Feb 27 01:12:52 2004  Jonathan Blandford  <jrb@gnome.org>

	* src/dlg-extract.c (dlg_extract): use new ACTION for the
	FileChooser

2004-02-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.5 released ]

2004-02-23  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated based on Paolo's tech review
	* help/C/file-roller-C.omf: updated manual date and software version number

2004-02-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_message_cb): convert text to utf8.

	* src/dlg-extract.c (create_extra_widget): remove the border.

	* src/menu-callbacks.c (open_archive_cb): added the rpm and stuffit
	types.
	(save_as_archive_cb): add a filter for the "save archive" dialog.
	(new_archive_cb): add a filter for the "new archive" dialog
	(open_archive_cb): simplify filter for the "open archive" dialog.

	* src/dlg-extract.c (file_sel_response_cb): save the specified
	password as the general password.

	* src/window.c (progress_dialog_delete_event): new function
	* src/window.c (open_progress_dialog): handle the delete_event event
	for the progress dialog.

	* src/fr-command-zip.c (add_password_arg): Add a always_specify
	parameter.
	(fr_command_zip_extract, fr_command_zip_test): always use the password
	on the command line so we get the right status if the user did not
	specify the password for a protected archive.
	(fr_command_zip_add): do not specify the password on the command line
	if the user did not enter a password.

2004-02-20  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated for GNOME 2.6
	* help/C/file-roller-C.omf: updated manual date and version number
	* help/C/l10n.txt: updated for GNOME 2.6
	* help/C/figures/file-roller_main_window.png: updated for GNOME 2.6
	* help/C/figures/file-roller_home.png: added for GNOME 2.6
	* help/C/figures/file-roller_uparrow.png: added for GNOME 2.6
	* help/C/figures/file-roller_rightarrow.png: added for GNOME 2.6
	* help/C/figures/file-roller_leftarrow.png: added for GNOME 2.6

2004-02-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/Makefile.am: Fix bug #133998 (schemas file must not be removed
	during distclean).

	* src/fr-command-zoo.c (split_line_zoo): remove c++ style comments.

	* src/typedefs.h: remove the last comma.

2004-02-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (drag_drop_add_file_list): exec the next batch
	command when the list is NULL.

	* src/dlg-batch-add.c (dlg_batch_add_files):
	* src/preferences.h (PREF_BATCH_ADD_DEFAULT_EXTENSION):
	* src/file-roller.schemas: save and load the default extension.

	* src/window.c (drag_drop_add_file_list): remove fr_process_clear
	and fr_process_start from here.

	* src/fr-command-tar.c (begin_tar_command, fr_command_tar_list)
	(fr_command_tar_add, fr_command_tar_delete)
	(fr_command_tar_extract): use gtar if present, otherwise use tar.

	* component/File_Roller_Component.server.in.in:
	* src/menu-callbacks.c (open_archive_cb):
	* src/window.c (window_new):
	* file-roller.applications: added application/x-jar

2004-02-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (copy_or_move_archive_response_cb): remove the
	double ;;

	[ File Roller 2.5.4 released ]

2004-02-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_archive_open): do not show the new window
	until we are sure that the archive has been opened with success.

	* src/fr-command-zip.c:
	* src/fr-command-rpm.c:
	* src/fr-archive.c:
	* src/file-utils.c: include config.h as suggested by Christian Neumair
	<chris@gnome-de.org>

2004-02-08  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-zoo.c (fr_command_zoo_get_type):
	* src/fr-command-zip.c (fr_command_zip_get_type):
	* src/fr-command-unstuff.c (fr_command_unstuff_get_type):
	* src/fr-command-tar.c (fr_command_tar_get_type):
	* src/fr-command-rpm.c (fr_command_rpm_get_type):
	* src/fr-command-rar.c (fr_command_rar_get_type):
	* src/fr-command-lha.c (fr_command_lha_get_type):
	* src/fr-command-cfile.c (fr_command_cfile_get_type):
	* src/fr-command-arj.c (fr_command_arj_get_type):
	* src/fr-command.c (fr_command_get_type):

	Use GType instead of guint.  Fixes segfaults on 64-bit architectures.
	Patch by Aron Griffis <agriffis@gentoo.org>

2004-02-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.h: Add a FR_BATCH_ACTION_QUIT command.
	* src/window.c (_window_batch_start_current_action)
	(window_archive__quit): quit the program.
	(window_archive__close): close the archive.

	Allow to extract more archives at once with the "Extract Here"
	command.

2004-02-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-tar.c (fr_command_tar_list, fr_command_tar_add)
	(fr_command_tar_delete, fr_command_tar_extract):

	Fix bug #105739 (Can't open tar.gz files on Solaris).

2004-02-03  Dennis Cranston <dennis_cranston at yahoo com>

	* src/window.c (add_columns):

	Fix bug #133358 (Small HIG fix for column header).

2004-01-31  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.3 released ]

2004-01-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (aod_apply_cb, load_options_cb, save_options_cb):

	Simplify "Load Options" and "Save Options" dialogs.

2004-01-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_set_list_mode): make the path column visible
	only if the list mode is set to flat.

	* src/menu-callbacks.c (save_as_archive_cb):

	Make the box content visible.

	* src/recent-files/*: updated from libegg.

	* src/window.c (window_new): restore the egg_recent_model_set_filter*
	functions.

	* help/C/file-roller.xml:

	Fix bug #131955 (Capitalization of WinZip in documentation).

2004-01-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* file-roller.desktop.in (_Comment): fix bug #131247

2004-01-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/File_Roller_Component.server.in.in:

	Change "Add to Archive" to "Zip Objects".

	* src/file_roller.glade:
	* src/dlg-batch-add.c:

	Simplify dialog.

2004-01-15  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (manual_cb): use a close button in the
	error dialogs.

	* src/window.c (window_archive_save_as): remove extra NULL argument.
	(window_rename_selection): use a close button in the error dialogs.

	* src/menu-callbacks.c (copy_or_move_archive): set folder mode to TRUE.

2004-01-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.2 released ]

	* src/file_roller.glade: remove the extract dialog.
	* src/dlg-extract.c: Fix the Extract dialog.

	* src/window.c:
	* src/window.h:
	* src/dlg-add.c: (add_cb): remove offset.
	(add_cb): use the fr_stock_add item.

	Fix the Add dialog.

2004-01-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-prop.c (dlg_prop):

	Fix bug #131263.

	* src/Makefile.am (file_roller_SOURCES):
	* src/menu.h:

	Remove the preferences dialog. (bug #131254)

	* file-roller.desktop.in:

	Change name to "Zip Creator"; remove the GenericName entry;
	change category to System Utility. (bug #131247)

2004-01-12  Jon K. Hellan  <hellan@acm.org>

	* src/window.c (MAX_HISTORY_LEN): #define works better than #deinfe

2004-01-12  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_new): remove the egg_recent_model_filter
	functions.

2004-01-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/recent-files/egg-recent-model.c:
	* src/recent-files/egg-recent-model.h:
	* src/recent-files/egg-recent-item.c:
	* src/recent-files/egg-recent-item.h:
	* src/recent-files/egg-recent-view.c:
	* src/recent-files/egg-recent-view.h:
	* src/eggtreemultidnd.c:
	* src/eggtreemultidnd.h: updated from libegg

	* src/menu-callbacks.c (open_archive_cb): add a filter.

	* src/icons/Makefile.am:
	* src/fr-stock.c:
	* src/fr-stock.h:
	* src/window.c (window_new):

	Use the stock icon system for the Add, Extract and View commands.

Wed Jan  7 01:41:32 2004  Jonathan Blandford  <jrb@gnome.org>

	* src/fr-command-unstuff.c (fr_command_unstuff_list): add missing
	semi-colon.

2004-01-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-zip.c (add_password_arg): do not add the password arg
	if the password is an empty string (bug #130693).

	* src/menu-callbacks.c (new_archive): do no destroy the file selector
	if the archive was not created (bug #130637).

	* src/window.c (window_archive_new): return TRUE if the archive was
	created successfully, FALSE otherwise.

2004-01-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (open_folder): use gnome_url_show instead of calling
	nautilus.

	* src/fr-command-unstuff.c (fr_command_unstuff_list): fix bug #128748 (
	Build fails on Solaris9: mkdtemp() doesn't exist).

2003-12-04  Jan Arne Petersen  <jpetersen@uni-bonn.de>

	* src/dlg-add.c: (file_sel_response_cb), (selection_entry_changed),
	(add_cb), (load_options_response_cb), (load_options_cb),
	(save_options_response_cb), (save_options_cb):
	* src/menu-callbacks.c: (get_full_path), (new_file_response_cb),
	(new_archive_cb), (save_file_response_cb), (save_as_archive_cb),
	(open_file_response_cb), (open_archive_cb),
	(copy_or_move_archive_response_cb), (copy_or_move_archive): replace
	GtkFileSelection with GtkFileChooser.

2004-01-03  Robert Sedak  <robert.sedak@sk.htnet.hr>

	* configure.in: Added "hr" in ALL_LINGUAS.

2003-12-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.1 released ]

2003-12-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-lha.c (split_line_lha): fix bug #129794 (file-roller
	2.4.1.1 crashes upon LZH file opening)

2003-12-20  Arafat Medini <lumina@silverpen.de>

	* ar.po: Added Arabic locale "ar" to ALL_LINGUAS

2003-11-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.0 released ]

2003-11-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-utils.c (g_utf8_strchomp): start from len - 1.

	* src/fr-archive.c (_archive_remove): fix bug #127073

2003-11-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (new_archive_cb):
	* src/window.c (window_archive_new): fix bug #21679 (patch by
	shakti.sen@wipro.com).

2003-11-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (rename_selection): fix new path computation.
	(_window_clipboard_remove_file_list): remove files from the clipboard
	when deleted from the archive.

2003-11-15  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_cut_selection, window_copy_selection)
	(window_paste_selection): Implement cut/copy/paste.

	* src/fr-archive.c (add_with_wildcard__step2)
	(add_directory__step2): Call done_func after fr_archive_add.

	* src/file-utils.c:
	* src/dlg-delete.c:
	* src/dlg-add.c:
	* src/window.c: Implement file and folder renaming.

2003-11-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-archive.c:
	* src/window.c:
	* src/fr-command-rpm.c:
	* src/fr-command-rpm.c: added RPM support.

2003-11-12  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (quit_cb): exit closes only the current window
	instead of closing all the windows.
	(new_archive): create a new window if the current one already has an
	archive opened.

2003-11-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: remove a separator.

	* src/fr-command-tar.c (fr_command_tar_uncompress): always rename the
	archive to make sure that when uncompressed it does not overwrite
	another archive with the same name.

	* src/dlg-add.c (open_file_ok_cb):
	* src/window.h:
	* src/window.c (window_new): added ability to go back and forward
	in location history.

2003-11-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (drag_drop_add_file_list)
	(window_archive_add_with_wildcard, window_archive_add_directory)
	(window_set_list_mode): set current dir to / when in flat view mode.

	* src/dlg-add.c (open_file_ok_cb):
	* src/fr-archive.c (fr_archive_add, create_tmp_base_dir): add
	files and folders to the current directory (bug #104816).

	* src/dlg-preferences.c (dlg_preferences): instantly apply
	compression level changes.

	* src/menu.h: remove the "View->New Window" command.

	* src/fr-command-unstuff.c:
	* src/fr-command-unstuff.h: added unstuff support. Patch by
	Bastien Nocera.

	* component/File_Roller_Component.server.in.in: remove "Extract
	To..."; add "Extract Here" (bug #125102)

	* src/preferences.h:
	* src/dlg-extract.c (dlg_extract): store extraction options (bug
	#126129)

	* src/file_roller.glade: make the labels selectable (bug #120593)

	* src/typedefs.h:
	* src/fr-command-zip.c (fr_command_zip_handle_error):
	* src/window.c (handle_errors): capture the "incorrect password"
	exception and ask the user to enter a new password.
	(_window_update_statusbar_list_info): use ngettext.
	(window_archive_open): open a new window if the current one
	is not void.

2003-11-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.4.2 released ]

	* src/fr-command-zip.c (add_password_arg): escape the char " if
	present in the password.

2003-11-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-zip.c (fr_command_zip_list, fr_command_zip_add)
	(fr_command_zip_delete, fr_command_zip_extract)
	(fr_command_zip_test): zip wildcards and non-option arguments not
	escaped (bug #122486).  Patch from Claudio Bley.

	* src/file-utils.h:
	* src/file-utils.c (escape_str): new function
	(shell_escape): use the above function.

	* src/fr-command-zip.c (add_password_arg, fr_command_zip_add)
	(fr_command_zip_extract, fr_command_zip_test): close the password
	between "".

2003-11-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* file-roller.mime:
	* file-roller.keys:
	* file-roller.applications: fix bug #125844 (MIME information
	should differenciate between .zip and .jar)

	* src/recent-files/Makefile.am:
	* configure.in:
	* src/Makefile.am (DISABLE_DEPRECATED): disable deprecations by
	default, added a --enable-deprecations option to enable them.

2003-10-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.4.1.1 released ]

	* src/window.c (get_time_string): fix bug #124637 (bug and patch
	from Christophe Fergeau)

2003-10-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.4.1 released ]

2003-10-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-cfile.c (fr_command_cfile_extract):
	* src/window.c (file_list_drag_begin, window_archive_save_as)
	(window_view_file, window_open_files): use the function below.

	* src/file-utils.c (get_temp_work_dir_name): make this function
	global and check for the folder existence.

2003-09-30  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "eu" to ALL_LINGUAS.

2003-09-28  Gediminas Paulauskas  <menesis@delfi.lt>

	* configure.in: Added lt (Lithuanian) to ALL_LINGUAS.

2003-09-27  Ãsmund SkjÃ¦veland  <aasmunds@fys.uio.no>

	* configure.in: Added 'nn' (Norwegian (nynorsk)) to ALL_LINGUAS.

2003-09-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (file_list_drag_data_get): Fix bug #122807

2003-09-17  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "ta" (Tamil) to the languages' list.

2003-09-10  Andrew Sobala  <aes@gnome.org>

	[ File Roller 2.4.0.1 released ]

2003-09-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.4.0 released ]

2003-09-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/recent-files/*.c: updated from libegg

2003-09-01  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.6 released ]

2003-08-31  Bastien Nocera  <hadess@hadess.net>

	* src/fr-command-rar.c (fr_command_rar_have_rar)
	(fr_command_rar_list, fr_command_rar_extract): use "unrar"
	instead of rar for extraction and listing when rar isn't available

2003-08-28  Taneem Ahmed  <taneem@bengalinux.org>

	* configure.in: Added "bn" to ALL_LINGUAS.

2003-08-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.5 released ]

2003-08-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.h:
	* src/window.c (file_list_drag_begin, file_list_drag_end)
	(file_list_drag_data_get): start extracting in
	file_list_drag_begin, and wait for extraction completion in
	file_list_drag_end (bug #119829).

2003-08-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-batch-add.c (dlg_batch_add_files):
	* src/dlg-extract.c (add_fav_cb):
	* src/dlg-add.c (selection_entry_changed): use the
	_get/set_filename_text functions.

	* src/gtk-utils.h:
	* src/gtk-utils.c (_gtk_entry_set_filename_text)
	(_gtk_entry_get_filename_text, _gtk_label_set_filename_text)
	(_gtk_label_get_filename_text): new functions.

	* Makefile.am (EXTRA_DIST): remove acinclude.m4

	* src/window.c (update_file_list_idle):
	* src/menu-callbacks.c (rename_archive_cb):
	* src/dlg-batch-add.c (add_clicked_cb):
	* src/dlg-extract.c (update_bookmark_list):
	* src/dlg-prop.c (dlg_prop):
	* src/dlg-viewer.c (dlg_viewer):
	* src/file-list.c (filter_apply):
	* src/fr-archive.c (file_list_remove_from_pattern):
	* src/dlg-add.c (open_file_ok_cb): use g_filename_to_utf8 /
	g_filename_from_utf8 instead of g_locale_to_utf8 /
	g_locale_from_utf8 where appropriate.

2003-08-12  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-cfile.c (list__process_line): fix bug #119698.

2003-08-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.4 released ]

2003-08-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/preferences.c:
	* src/dlg-preferences.c:
	* src/window.c:
	* src/gconf-utils.h:
	* src/gconf-utils.c:
	* src/dlg-extract.c: always specify a default value when reading
	gconf keys.

	* src/fr-command-zip.c (mktime_from_string): fix bug #119269.

2003-08-07  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/l10n.txt: updated for GNOME 2.4

2003-08-07  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated for GNOME 2.4
	* help/C/file-roller-C.omf: updated manual date and version number
	* help/C/figures/file-roller_main_window.png: updated for GNOME 2.4

2003-08-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (add_cb): fix bug #118795

2003-07-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-preferences.c (dlg_preferences): remove the "recent
	archives" option (bug #117512)

	* src/window.h:
	* src/window.c (window_new, _window_update_sensitivity): make the
	"last output" command insensitive if no output is available. (bug
	#117513)

	* src/menu.h: added a tooltip to the "Last Output" command.

2003-07-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: rename "Move To Trash" to "Move to Trash"

	* src/file_roller.glade: rename "Add Files and Folders" to "Add	Files".

	* src/file_roller_prop.glade: rename "Path" to "Location".

2003-07-22  Telsa Gwynne  <hobbit@aloss.ukuu.org.uk>

	* configure.in: Added "cy" (Welsh) to ALL_LINGUAS

2003-07-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_close): stop the activity timeout, should
	fix bug #117171

2003-07-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_view_last_output): make the dialog modal.

	* src/menu.h: move "New Window" to the View menu, remove the
	"Close Window" command and the Windows menu.

2003-07-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (_window_update_title): remove "File Roller" from the
	title.

2003-07-07  Nikos Charonitakis  <frolix68@yahoo.gr>

	* po/el.po: updated Greek translation.

2003-07-02  Jordi Mallach  <jordi@sindominio.net>

	* file-roller.desktop.in: Use "false" instead of "0" in Terminal
	entry.

2003-06-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.3 released ]

2003-06-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (about_cb): Added Breda in the documenters list.

2003-06-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/File_Roller_Component.server.in.in: remove "Extract
	Here" and "Extract in a Folder".

2003-06-26  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_archive_open): add to recent list only if
	the archive was loaded without errors (bug #112577).

	* src/dlg-batch-add.c (add_clicked_cb): use tgz as default extension.
	(add_clicked_cb): display the correct error message when the user
	do not enter the archive name.

2003-06-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-rar.c (fr_command_rar_add): fixed bug #115775

2003-06-17  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/Makefile.am (file_roller_LDADD): removed LIBOBJ, no more
	needed because fnmatch is gone now.

	* src/file-utils.h: include <sys/types.h> because of mode_t

2003-06-12  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated for GNOME 2.2, not yet updated
	for GNOME 2.3
	* help/C/file-roller-C.omf: updated manual date and version number
	* help/C/l10n.txt: new file added
	* help/C/figures/file-roller_main_window.png: new file added
	* help/C/figures/fr-add-dialog.png: deleted
	* help/C/figures/fr-extract.png: deleted
	* help/C/figures/fr-mainwindow.png: deleted
	* help/C/figures/fr-prefs.png: deleted

2003-06-12	Mohammad DAMT  <mdamt@bisnisweb.com>

	* configure.in: Added "id" country code
	* po/id.po: New Indonesian translation by Yuhanes Chandra
	<yuhanes@cbn.net.id>

2003-06-08  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-preferences.c:
	* menu.h:
	* fr-error.[ch]:
	* fr-archive.[ch]:
	* gtk-utils.[ch]:
	* window.[ch]:
	* main.c:
	* menu-callbacks.c:
	* dlg-batch-add.c:
	* dlg-add.c:
	* dlg-extract.c:
	* dlg-preferences.c: make alert dialogs HIG compliant (bugs
	#114578, #114581).

2003-05-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.h:
	* src/window.c (window_new, window_batch_mode_stop)
	(window_archive__open_extract, window_archive__open_add): close
	the window if in non interactive mode (bug #112594).

	* src/menu-callbacks.c (copy_or_move_archive_ok_cb): fix bug #113805

2003-05-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (save_file_ok_cb): warning the user if he
	does not specify a new file name.

	* src/gtk-utils.c (_gtk_yesno_dialog_new): fix bug #113806

	* src/dlg-add.c (add_cb): fix bug #113807

	* src/menu.h: fix bugs #113809, #113808

	* src/dlg-delete.c (ok_clicked_cb): fix bug #113810

	* src/dlg-extract.c (overwrite_toggled_cb): fix bug #113820

	* src/menu.h: fix bug #113821

	* src/fr-archive.c (create_command_from_filename): fix bug #113822.

	* component/File_Roller_Component.server.in.in: fix bug #113824.

2003-05-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.2 released ]

	* src/file-utils.c (split_line, eat_spaces, get_last_field): new
	functions.
	* src/fr-command-rar.c (mktime_from_string):
	* src/fr-command-lha.c (process_line):
	* src/fr-command-zoo.c (process_zoo_line):
	* src/fr-command-zip.c (list__process_line):
	* src/fr-command-tar.c (process_line):
	* src/fr-command-arj.c (list__process_line): use the global functions
	instead of redefining them each time.

2003-05-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-utils.c (search_util_get_patterns): make this function
	utf8 compatible.

	* src/fr-command-arj.c (fr_command_arj_extract): fix junk_paths option.

	* src/utf8-fnmatch.c:
	* src/utf8-fnmatch.h: new files, added a utf8 compatible
	fnmatch function.
	* src/file-utils.c (match_patterns): use utf8_fnmatch instead of
	fnmatch.
	* src/fnmatch.[ch]: deleted.

	* src/menu-callbacks.c (delete_archive_cb): move to trash instead
	of deleting from disk.

	* src/gtk-utils.c (_gtk_yesno_dialog_new): new function.

2003-05-17  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (open_progress_dialog, window_message_cb):
	* src/ephy-ellipsizing-label.c: use this widget to display
	progress information.

	* src/fr-command-zip.c (fr_command_zip_add)
	(fr_command_zip_delete):
	(fr_command_zip_extract): make zip operations more verbose.

	* src/fr-command-arj.c (fr_command_arj_list): added arj archives
	support.

2003-04-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/File_Roller_Component.server.in.in: add
	application/x-zip mime type

2003-05-17  SamÃºel JÃ³n Gunnarsson  <sammi@techattack.nu>

	* configure.in: Added "is" to ALL_LINGUAS.

2003-05-10  Paisa Seeluangsawat  <paisa@colorado.edu>

	* configure.in: Added Thai (th) to ALL_LINGUAS.

2003-05-06  Duarte Loreto <happyguy_pt@hotmail.com>

	* configure.in: Added Portuguese (pt) to ALL_LINGUAS.

2003-05-06  Danilo Å egan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2003-04-28  Dmitry G. Mastrukov <dmitry@taurussoft.org>

	* help/ru/file-roller.xml: Fixed. File was encoded to UTF-8 from wrong
	codeset.

2003-04-07  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.1 released ]

	* src/icons/add.png:
	* src/icons/extract.png: new icons.

2003-04-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c:
	(window_batch_mode_start, window_batch_mode_stop): hide the main
	window while in batch mode.

	* src/file-roller.schemas:
	* src/file_roller_prop.glade:
	* src/window.c:
	* src/dlg-preferences.c: remove the 'show name column' option, the
	name must always be visible.

	* src/fr-archive.c (fr_archive_stoppable): new function, emit a
	stoppable signal.

	* src/window.c (drag_drop_add_file_list): do not allow the user to
	stop this operation.

	* src/window.c (window_view_last_output): add a title parameter
	(_action_performed): use 'Test Result' as title for the test operation.

	* src/window.c (window_fake_load): use a better logic to determine
	when to use the fake load.

	* src/dlg-batch-add.c (dlg_batch_add_files): display how many
	folders and files the user is going to add.

	* src/window.c (window_batch_mode_stop):
	* src/window.h: removed the batch window, simply use the normal
	window now that we have the progress dialog.

	* component/File_Roller_Component.server.in.in: added zoo archive

	* src/fr-command-zoo.c (fr_command_zoo_list): use "lq" instead of "la"
	(fr_command_zoo_add): use "auP" instead of "aunP"

	* src/window.c:
	* src/window.h: added a progress dialog.

	* src/fr-process.h:
	* src/fr-process.c: added begin_func and end_func functions to be
	called before and after a process execution. added sticky_only
	signal.
	(_fr_process_stop): do not stop the current command if it is
	declared sticky.

	* src/fr-archive.c:
	* src/fr-archive.h: added some signals to give more info about the
	current command.

	* src/fr-command-zoo.c (fr_command_zoo_test): added test to zoo
	archive.

2003-03-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (new_file_ok_cb): use tgz as default extension.

	* src/window.c (window_convert_data_free)
	(convert__action_performed, _action_performed, window_new): added
	convert archive function.

	* src/menu-callbacks.c (save_as_archive_cb, save_file_ok_cb):

	* src/file-utils.c (rmdir_recursive): new function

	* file-roller.mime:
	* file-roller.keys: added zoo archive

	* src/window.c (location_entry_key_press_event_cb)
	(_window_update_current_location, key_press_cb, window_new): use
	a text entry instead of the option menu for the location.

2003-03-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (open_file_ok_cb):
	* src/window.c (add_files_done_cb)
	(window_archive_add_with_wildcard, window_archive_add_directory)
	(drag_drop_add_file_list):
	* src/window.h:
	* src/menu-callbacks.c (stop_cb): Allow to stop the "get file list"
	operation.

2003-03-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.0 released ]

2003-03-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-viewer.c (dlg_viewer, set_monospace_font): use the
	monoscape font specified by the desktop preferences.

2003-03-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-list.c (get_wildcard_file_list_async)
	(get_directory_file_list_async):
	* src/file-list.h: make get_wildcard_file_list and
	get_directory_file_list asynchronous functions.

	* src/window.c (add_directory_done_cb, drag_drop_add_file_list):
	* src/dlg-add.c (open_file_ok_cb): use the new functions.

2003-03-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-batch-add.c (add_clicked_cb): check whether the user
	entered a correct archive name. (bug #102727)

2003-03-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-utils.c: add ':' to the chars to escape.

	* src/fr-command-tar.c (fr_command_tar_list, fr_command_tar_list)
	(fr_command_tar_add, fr_command_tar_delete)
	(fr_command_tar_extract): add --force-local option to handle
	filenames with a ':' char

	* src/fr-command-rar.c (split_line):
	* src/fr-command-lha.c (split_line_lha):
	* src/fr-command-zip.c (split_line):
	* src/fr-command-tar.c (split_line): fixed a stupid stupid stupid
	stupid ... stupid bug.

	* src/fr-command-cfile.c (fr_command_cfile_list)
	(list__process_line): fix bug #105827

	* src/file_roller.glade: fix bug #107753

2003-02-26  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in: require gnome-vfs 2.1.3 (patch by Alex Duggan
	aldug@astrolinux.com).

2003-03-13  Paul Duffy  <dubhthach@frink.nuigalway.ie>

	* configure.in: Added "ga" to ALL_LINGUAS.

2003-03-13  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "ml" to ALL_LINGUAS.

2003-03-07  Metin Amiroff  <metin@karegen.com>

	* configure.in: Added Azerbaijani to ALL_LINGUAS

2003-02-26  Yuriy Syrota  <rasta renome.rovno.ua>

	* help/uk/*: Added Ukrainian translation by
	Maxim Dubovoy <dmv@mylinux.com.ua>.

2003-02-26  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS.

2003-02-22  Roozbeh Pournader  <roozbeh@sharif.edu>

	* configure.in: Added "fa" to ALL_LINGUAS.

2003-02-22  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW" (traditional Chinese) to ALL_LINGUAS.

2003-02-09  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "kn" to ALL_LINGUAS.

2003-01-30  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" (Turkish) to the languages' list.

2003-01-30  Gil "Dolfin" Osher <dolfin@rpg.org.il>

	* configure.in: Added "he" to ALL_LINGUAS.

2003-01-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (theme_changed_cb): handle theme_changed event.
	(window_new): allow svg themes (patch from gnome-2-2 branch).

	* src/fr-command-zoo.c:
	* src/fr-command-zoo.h:
	* src/fr-archive.c:
	(create_command_from_mime_type):
	* src/Makefile.am (file_roller_SOURCES):

	Added zoo archive support, patch from
	Shaun McCance <shaunm@wolfram.com>.

2003-01-23  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added "sk" to ALL_LINGUAS.

2003-01-22  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "mn" to ALL_LINGUAS.

2003-01-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/Makefile.am (file_roller_LDADD): revert Thomas Vander Stichele
	commit, Thomas LIBOBJS is setted on systems that do not have the
	FNM_CASEFOLD constant defined (e.g. Solaris), if it does not build for
	you use automake 1.7.2 and autoconf 2.57.

2003-01-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/recent-files/*.[ch]: updated "recent files" stuff from libegg.

2003-01-22  Thomas Vander Stichele <thomas at apestaart dot org>

	* src/Makefile.am: remove LIBOBJS, nothing sets it

2003-01-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.2.0 released ]

2003-01-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/file-roller-component.c (impl_Bonobo_Listener_event): patch
	from Alexander Larsson.

2003-01-20  Yuriy Syrota  <rastaman@renome.rovno.ua>

	* configure.in: Added "uk" (Ukrainian) to ALL_LINGUAS.

2003-01-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/C/figures/*.png: updated.

	* help/C/file-roller.xml: updated.

2003-01-17  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (open_file_ok_cb): fix bug #103671.

2003-01-15  Pauli Virtanen  <pauli.virtanen@hut.fi>

	* configure.in: Added "fi" (Finnish) to ALL_LINGUAS.

2003-01-13  He Qiangqiang  <carton@linux.net.cn>

	* configure.in: Added zh_CN to ALL_LINGUAS.

2003-01-11  Laurent Dhima  <laurenti@alblinux.net>

	* configure.in: Added 'sq' (albanian) to ALL_LINGUAS

2003-01-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (prepare_app): fix bug #102963

2002-01-07  Naba Kumar  <naba@gnome.org>

	* configure.in: Added hi (hindi) in ALL_LINGUAS

2003-01-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.1.5 released ]

2003-01-05  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Macedonian (mk) to ALL_LINGUAS

2002-12-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade:
	* src/dlg-extract.c (dlg_extract): fix bug #101428.

2002-12-26  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: s/Manual/Contents/

2002-12-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/file-roller-component.c (get_path_from_url): new function.
	(impl_Bonobo_Listener_event): use gnome_vfs_unescape_string instead of
	g_filename_from_uri.

	* component/File_Roller_Component.server.in.in: add application/x-bzip

2002-12-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (about_cb): fixed bug #101727

2002-12-15  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/gtk-utils.c (_gtk_error_dialog_new): use header capitalization

	* src/fr-command-lha.c (process_line): use split_line_lha

	* src/menu.h: use Archive instead of File

	* src/file_roller_prop.glade: changed some strings.

2002-12-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-lha.c (split_line_lha): handle lha archives
	created on Windows.

2002-12-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.1.4 released ]

2002-12-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in: removed the scripts sub-folder.
	* file-roller.spec.in: removed the scripts installation.

2002-12-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: reorder file operation commands.

2002-12-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.1.3 released ]

2002-12-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-archive.c (fr_archive_utils__file_is_archive): do not return
	always TRUE.

	* src/window.c (window_archive_open): focus the list after loading an
	archive.

	* src/main.c: remove useless variable.

	* src/window.c (_window_update_sensitivity): do not update
	sensitivity when in batch mode (bug #98736).

	* component/file-roller-component.c (impl_Bonobo_Listener_event):
	support folders with strange names.

	* src/dlg-batch-add.c (add_clicked_cb): ask whether to create the
	destination folder if it does not exist.

2002-12-07  Ole Laursen  <olau@hardworking.dk>

	* configure.in: Added Danish (da) to ALL_LINGUAS.

2002-12-05  Andras Timar  <timar@gnome.hu>

	* configure.in: Added hu to ALL_LINGUAS.

2002-12-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade: re-layout the 'Extact' dialog.

	* src/dlg-extract.c (dlg_extract): use 'Bookmarks' instead of
	'Favourites'.

	* src/main.c (migrate_to_new_directories, migrate_file_from_to)
	(migrate_dir_from_to): use .gnome2/file-roller as config dir, and
	provide a migration from the old .file-roller dir.

	* src/dlg-viewer.c (dlg_viewer): set the document filename as title.

	* src/file_roller_prop.glade: use sentence capitalization in
	toggle buttons.

	* src/dlg-preferences.c (dlg_preferences): use 'Visible columns" as in
	rhythmbox.

2002-12-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade:
	* src/menu-callbacks.c (new_archive_cb, about_cb): re-add Copyright

	* src/window.c (window_archive_extract):
	* src/dlg-extract.c (ok_clicked_cb):
	* src/window.c (window_drag_data_received)
	(window_drag_data_received):
	* src/menu-callbacks.c (new_file_ok_cb, copy_archive_ok_cb)
	(rename_archive_cb, delete_archive_cb):
	* src/dlg-extract.c (ok_clicked_cb):
	* src/window.c (window_archive_extract): remove whitespace before
	punctuation.

2002-12-03  Christian Neumair  <chris@gnome-de.org>

	* src/menu-callbacks.c: Changed copyright string and marked it for
	translation.

2002-12-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_view_last_output):
	* src/gtk-utils.c (_gtk_message_dialog_new)
	(_gtk_request_dialog_run, _gtk_error_dialog_new): HIG compliant
	dialogs.

	* src/typedefs.h: change config folder from $(HOME)/.file-roller to
	$(HOME)/.gnome2/file-roller

2002-12-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade:
	* src/file_roller_prop.glade: add default buttons.

	* src/menu.h: added stock icon to the properties menu entry.

	* src/dlg-prop.c (dlg_prop): make the title HIG compliant

	* src/menu-callbacks.c (new_archive_cb): remove the frame.

	* src/window.c (window_update_file_list): display the file list when
	a new archive is created.

2002-11-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* file-roller.desktop.in: Add StartupNotify and X-GNOME-Bugzilla
	entries.

	* src/preferences.h (PREF_LIST_SORT_METHOD):
	* src/file-roller.schemas:
	* Makefile.am (SUBDIRS):
	* src/main.c:
	* src/main.h: remove the scripts installation.

	* src/eggtreemultidnd.c:
	* src/eggtreemultidnd.h: new files
	* src/window.c (window_new): add multi drag & drop support.

2002-11-23  Kjartan Maraas  <kmaraas@gnome.org>

	* help/C/file-roller.xml: Fix an embarrasing typo.

2002-11-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/*.glade: make dialogs more HIG compliant.

2002-11-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-preferences.c (dlg_preferences): set the bold attribute
	here not in glade.

	* src/dlg-*.c: s/.glade2/.glade/
	* src/*.glade2:
	* src/*.glade: change extension from .glade2 to .glade

2002-11-11  James Willcox  <jwillcox@gnome.org>

	* Makefile.am:  add components to SUBDIRS
	* configure.in:  add components/Makefile to AC_OUTPUT
	* po/POTFILES.in:  added the .server file

	* component/File_Roller_Component.server.in.in:
	* component/Makefile.am:
	* component/file-roller-component.c: (impl_Bonobo_Listener_event),
	(file_roller_component_class_init), (file_roller_component_init):
	* component/file-roller-component.h:
	* component/libmain.c: (image_shlib_make_object):

	New files.  Implements a context menu handler for nautilus.

2002-11-07  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c: added session management support.

2002-10-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: s/Information/Properties/

	* src/dlg-add.c (add_cb):
	* src/file_roller.glade2: change dialog titles.

2002-11-01  Tivo LeedjÃ¯?Â½v  <toivo@linux.ee>

	* configure.in: Added et to ALL_LINGUAS.

2002-10-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-archive.c (create_command_from_sniffer): use a
	personalized 'sniffer' to recognize supported archive formats with
	exotic extensions (i.e. OpenOffice documents).

	* src/window.c (window_drag_data_received): use
	fr_archive_utils__file_is_archive.

	* src/fr-archive.c (fr_archive_utils__get_file_name_ext): rename
	fr_archive_utils_get_file_name_ext as
	fr_archive_utils__get_file_name_ext
	(fr_archive_utils__file_is_archive): new function

	* src/fr-archive.h:
	* src/menu-callbacks.c (rename_archive_cb): use
	fr_archive_utils__get_file_name_ext.

2002-10-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-process.h (BUFFER_SIZE): set buffer size to 16384.
	* src/fr-process.c (REFRESH_RATE): set refresh rate to 10 millisecs.

	this makes loading much more faster (at least on my machine):

	archive         files     before     after
	-------------------------------------------
	nautilus.tgz    1873      06''00     02''00
	evolution.tgz   3478      10''00     03''00
	gphoto2.tgz      592      02''10     00''97

	please send me your benchmarks.

2002-10-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.1.1 ]

2002-10-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in: update required libraries versions.

	* src/recent-files/*: import egg-recent files.

	* src/window.c (get_icon): use gnome_icon_lookup to get the icon.
	(open_recent_cb, _window_add_to_recent, pref_history_len_changed)
	(window_new): use egg-recent.

2002-10-08  Peteris Krisjanis <peteris.krisjanis@os.lv>

	* configure.in: Added lv to ALL_LINGUAS.

2002-10-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.1.0 ]

2002-10-01  Stanislav Brabec  <sbrabec@suse.cz>

	* configure.in: Added cs to ALL_LINGUAS.

2002-09-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/ru/file-roller.xml: fixed some 'opening and ending tag
	mismatch' errors.

	* src/window.c (window_archive_reload, window_archive_open): we
	have to load the archive, even in batch mode, if the user wants to
	update.

2002-09-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command.h:
	* src/fr-command.c:
	* src/fr-archive.h:
	* src/fr-archive.c:
	* src/window.c: do not load the archive if in batch mode.
	(activity_cb, set_icon_transparency): animate the icon when there is
	activity in batch mode.
	(window_update_file_list): hide/show the scrolled window not the
	list view.

2002-09-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (command_done, viewer_done): use g_spawn_sync instead
	of gnome_execute_shell.

	* src/window.c: added break; to default cases.

	* src/toolbar.h:
	* src/menu.h:
	* src/window.h: removed trailing commans to increase portability.

2002-09-19  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* help/ru/*: recoded Russian help to UTF-8

2002-09-17  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Catalan (ca) to ALL_LINGUAS

2002-09-16  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Vietnamese (vi) to ALL_LINGUAS

2002-09-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade2: hide cursor in the text viewer.

2002-09-11  Marius Andreiana <mandreiana@yahoo.com>

	* configure.in: added 'ro' to ALL_LINGUAS

2002-09-10 Hasbullah Bin Pit <sebol@ikhlas.com>

	* configure.in: Added ms at ALL_LINGUAS.

2002-09-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in (GETTEXT_PACKAGE):
	* src/Makefile.am (install-data-local): install schemas only when
	SCHEMAS_INSTALL is defined.

	* file-roller.spec.in: install schemas and update the scrollkeeper
	database.

2002-09-01  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.0.2 released ]

2002-09-01  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (install_scripts): substitute underscores with spaces
	before installing stripts.

2002-08-31  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-prop.c (dlg_prop): use a better time format and make it
	localizable.

	* src/window.c (get_compare_func_from_idx): do not let the column
	index have invalid values.

	* src/preferences.c (get_string_from_enum):
	(get_enum_from_string): return the first value if input is invalid.

2002-08-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.0.1 released ]

2002-08-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-roller.schemas: added keys documentation.

2002-08-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (about_cb): Added e-mail address.

2002-08-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_close): remove notifications when closing the
	window.

	* src/file-roller.schemas: changed some keys

	* src/menu-callbacks.c:
	* src/window.c:
	* src/window.h:
	* src/preferences.c:
	* src/preferences.h:
	* src/dlg-preferences.c: Use gconf instead of gnome-config.

	* src/gconf-utils.c:
	* src/gconf-utils.h: new files.

	* src/gtk-utils.c:
	* src/gtk-utils.h: renamed misc.[ch] to gtk-utils.[ch]

	* help/ru/*: added Russian translation by <linuxbox@degunino.net>.

2002-08-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c:
	* src/dlg-extract.c:
	* src/window.c:
	* src/dlg-batch-add.c: fixed some locale-UTF8 translations bugs.

2002-08-23  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-batch-add.c (add_clicked_cb): translate archive name to
	locale.

	* src/window.c (key_press_cb): show popup menu when pressing SHIFT-F10.

2002-08-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c:
	* src/window.h:
	* src/toolbar.h:
	* src/menu.h: Changed menu and toolbar to make it follow the HIG.
	Added "Deselect All", "View Toolbar", "View Statusbar" and "Reload"
	commands.

	* src/dlg-extract.c (ok_clicked_cb):
	* src/window.c (_window_batch_start_current_action): when extracting
	multiple archives let the user specify the destination folder only
	once.
	(_window_update_title): make the title follow the HIG.

2002-08-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-batch-add.c:
	* src/dlg-extract.c:
	* src/window.c:
	* src/window.h:
	* src/main.c: added ability to extract multiple archives (fixed bug
	#90849).

	* scripts/Extract_here:
	* scripts/Extract_to: these scripts can accept multiple arguments now.

2002-08-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-data.c (file_data_get_type_description): new function.

	* src/window.c (sort_by_type):
	(update_file_list_idle): use file_data_get_type_description.

2002-08-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/C/file-roller.xml: remove the "install scripts" documentation.
	* help/C/figures/fr-prefs.png: New screenshot.
	* src/dlg-preferences.c (dlg_preferences):
	* src/main.c (initialize_data): remove the "install Nautilus scripts"
	option.

2002-08-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (open_file_ok_cb): check directory permissions
	before adding files.

2002-08-12  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (bookmark_selected_cb): convert path to locale.

	* file-roller.desktop.in (Categories): Added GNOME.
	* src/menu.h: re-arranged menus.

2002-08-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: Remove 'Archive' from the labels of the File menu.
	* src/window.c (window_update_history_list): Put the recent files list
	in a submenu ala gedit.

	* help/C/file-roller.xml: Document the compression level option.
	* help/C/figures/fr-prefs.png: New screenshot.

2002-08-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-cfile.c:
	* src/fr-command-lha.c:
	* src/fr-command-zip.c:
	* src/fr-command-tar.c:
	* src/fr-command.c:
	* src/fr-archive.c:
	* src/preferences.c:
	* src/window.c:
	* src/dld-delete.c: Added a compression level option.

2002-08-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* file-roller.spec.in: file-roller-2.0.mo -> file-roller.mo

	* src/file-list.c:
	* src/fnmatch.c:
	* src/fnmatch.h:
	* configure.in:
	* acinclude.m4: Added patch from Claudio Bley to cope with systems
	that do not have FNM_CASEFOLD defined.

2002-08-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in (GETTEXT_PACKAGE): set GETTEXT_PACKAGE to file-roller,
	bug #89641.

	* src/fr-archive.c (fr_archive_new_file):
	* src/window.c (window_archive_new): Fixed bug #89664

	* src/menu.h: Removed some ... in menu labels.

2002-08-01  Christophe Fergeau <teuf@users.sourceforge.net>

	* configure.in: renamed fr_FR.po to fr.po

2002-07-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in (GNOME_VFS_REQUIRED): updated required libraries
	version.

	* src/dlg-viewer.c (dlg_viewer): do not let edit the text.

2002-07-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/C/file-roller.xml: s/directory/folder/g

2002-07-23  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (install_scripts): ensure the existence of the scripts
	folder before installing the scripts.

2002-07-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-zip.c (mktime_from_string): Fixed year computation.

	* src/dlg-preferences.c (dlg_preferences): Add an option to install or
	remove Nautilus scripts.

2002-07-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (open_nautilus): escape folder name.

	* src/main.c (install_scripts): New functions to install the nautilus
	scripts.
	* src/preferences.[ch]: New option to keep trace whether we need to
	install the scripts.

	* scripts/Add_to_archive:
	* scripts/Extract_here:
	* scripts/Extract_in_a_subfolder:
	* scripts/Extract_to: Fixed handling of paths with spaces.

2002-07-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (open_nautilus): Use g_spawn_command_line_async instead
	of gnome_execute_shell and display an error dialog if this is the case.

2002-07-08  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_view_last_output):
	* src/misc.c (misc_error_dialog_new): Use bytes_written as text len.

2002-07-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_close): destroy the tooltips when closing
	the window.

2002-07-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/C/file-roller.xml: Updated documentation of the extraction
	dialog.

	* src/dlg-extract.c (dlg_extract):
	* src/dlg-preferences.c (dlg_preferences): Add the help button.

	* src/fr-process.c (start_current_command): Free command string.

2002-07-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade2: reorganize the extraction dialog.

	* src/dlg-extract.c:
	* src/window.c (_action_performed):
	* src/preferences.c: Add an option to view the destination folder
	after the extraction.

2002-07-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_view_file):
	(window_open_files):
	* src/fr-archive.c (fr_archive_extract): create the temp dirs with 0700
	mode.

	* src/window.c (file_list_drag_begin):
	(window_archive_extract):
	* src/dlg-extract.c (ok_clicked_cb): create destination dirs with 0755
	mode.

	* src/dlg-add.c (save_options_cb):
	(load_options_cb): Create .file-roller dir with 0700 mode.

	* src/file-utils.c (ensure_dir_exists): Add a mode parameter.

2002-06-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/misc.c (misc_error_dialog_new): set resizable to FALSE.

	* POTFILES.in: updated.

2002-06-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-open-with.c (app_activated_cb):
	(recent_activated_cb): Use row_activated signal to start command.

2002-06-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/misc.c (misc_error_dialog_new):
	* src/window.c (window_view_last_output): convert to UTF-8 before
	displaing output.

2002-06-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (_window_update_sensitivity): make password item
	sensitive only when the command support passwords.
	(get_file_list_from_url_list): unescape dropped files paths.

	* src/menu.h: options menu re-arranged.

2002-06-17  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: actions menu re-arranged.

	* src/dlg-extract.c (ok_clicked_cb): Check directory existence and
	permissions here and do not close the dialog if an error occurred so
	the user can re-type the directory without invoking the command again.

	* src/window.c (open_files):
	* src/main.c (command_done):
	(release_data): remove temp dirs at exit, not when the external
	applications are closed.

	* src/fr-process.c (fr_process_finalize): do not emit signals when
	finalizing the process.

2002-06-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* Makefile.am:
	* configure.in: remove viewer subdir.

	* src/window.c (view_file): Use Nautilus as document viewer.  If the
	file has no mime type or action associated use the internal viewer.

	* src/dlg-viewer.h:
	* src/dlg-viewer.c: The internal viewer is now a simple text viewer.

	* src/gnome-vfs-helpers.h:
	* src/gnome-vfs-helpers.c: Used by the internal viewer to load the
	document.

2002-06-08  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-password.c:
	* src/dlg-password.h: New files.  Implement the password dialog.

	* src/window.h:
	* src/window.c: Added a password variable.

	* src/fr-command.h:
	* src/fr-command.h: Added a password argument to add and extract.

	* src/fr-command-zip.c (fr_command_zip_test): Implement the test.

	* src/fr-command.h:
	* src/fr-command.c: Added a virtual test function.

	* src/fr-process.c (fr_process_set_err_line_func): new function used
	to process the standard error.
	(fr_process_set_out_line_func): renamed fr_process_set_proc_line_func
	to fr_process_set_out_line_func.

	* src/fr-process.h: Added an error buffer.

	* src/fr-process.c (start_current_command): uses
	g_spawn_async_with_pipes.

2002-06-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/*: Manual.

	* src/*.glade2
	* src/dlg-add.c (add_cb): Added mnemonics to all dialogs.

2002-06-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-utils.c: add ';' to bad_char.

2002-05-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in: added AC_PREREQ(2.50)

2002-05-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* all files: merged changes from file-roller 1.0.1

2002-05-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* viewer/main.c (build_component_menu): Use a menu to show available
	components.

2002-05-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (get_icon): Add a reference to the pixbuf if we use an
	internal icon.
	(get_icon_path_from_name): Add .nautilus/themes to the search path.

2002-05-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* scripts/: Added Extract_here and Extract_in_a_subfolder

2002-04-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (prepare_app): Added '--force' command line option.

2002-04-26  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: Added some keyboard shortcuts.

	* imported all files
